<!DOCTYPE html><html  class="scroll-smooth"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><style id="nuxt-ui-colors">@layer base {
  :root {
  --ui-color-primary-50: var(--color-green-50, oklch(98.2% 0.018 155.826));
  --ui-color-primary-100: var(--color-green-100, oklch(96.2% 0.044 156.743));
  --ui-color-primary-200: var(--color-green-200, oklch(92.5% 0.084 155.995));
  --ui-color-primary-300: var(--color-green-300, oklch(87.1% 0.15 154.449));
  --ui-color-primary-400: var(--color-green-400, oklch(79.2% 0.209 151.711));
  --ui-color-primary-500: var(--color-green-500, oklch(72.3% 0.219 149.579));
  --ui-color-primary-600: var(--color-green-600, oklch(62.7% 0.194 149.214));
  --ui-color-primary-700: var(--color-green-700, oklch(52.7% 0.154 150.069));
  --ui-color-primary-800: var(--color-green-800, oklch(44.8% 0.119 151.328));
  --ui-color-primary-900: var(--color-green-900, oklch(39.3% 0.095 152.535));
  --ui-color-primary-950: var(--color-green-950, oklch(26.6% 0.065 152.934));
  --ui-color-secondary-50: var(--color-blue-50, oklch(97% 0.014 254.604));
  --ui-color-secondary-100: var(--color-blue-100, oklch(93.2% 0.032 255.585));
  --ui-color-secondary-200: var(--color-blue-200, oklch(88.2% 0.059 254.128));
  --ui-color-secondary-300: var(--color-blue-300, oklch(80.9% 0.105 251.813));
  --ui-color-secondary-400: var(--color-blue-400, oklch(70.7% 0.165 254.624));
  --ui-color-secondary-500: var(--color-blue-500, oklch(62.3% 0.214 259.815));
  --ui-color-secondary-600: var(--color-blue-600, oklch(54.6% 0.245 262.881));
  --ui-color-secondary-700: var(--color-blue-700, oklch(48.8% 0.243 264.376));
  --ui-color-secondary-800: var(--color-blue-800, oklch(42.4% 0.199 265.638));
  --ui-color-secondary-900: var(--color-blue-900, oklch(37.9% 0.146 265.522));
  --ui-color-secondary-950: var(--color-blue-950, oklch(28.2% 0.091 267.935));
  --ui-color-success-50: var(--color-green-50, oklch(98.2% 0.018 155.826));
  --ui-color-success-100: var(--color-green-100, oklch(96.2% 0.044 156.743));
  --ui-color-success-200: var(--color-green-200, oklch(92.5% 0.084 155.995));
  --ui-color-success-300: var(--color-green-300, oklch(87.1% 0.15 154.449));
  --ui-color-success-400: var(--color-green-400, oklch(79.2% 0.209 151.711));
  --ui-color-success-500: var(--color-green-500, oklch(72.3% 0.219 149.579));
  --ui-color-success-600: var(--color-green-600, oklch(62.7% 0.194 149.214));
  --ui-color-success-700: var(--color-green-700, oklch(52.7% 0.154 150.069));
  --ui-color-success-800: var(--color-green-800, oklch(44.8% 0.119 151.328));
  --ui-color-success-900: var(--color-green-900, oklch(39.3% 0.095 152.535));
  --ui-color-success-950: var(--color-green-950, oklch(26.6% 0.065 152.934));
  --ui-color-info-50: var(--color-blue-50, oklch(97% 0.014 254.604));
  --ui-color-info-100: var(--color-blue-100, oklch(93.2% 0.032 255.585));
  --ui-color-info-200: var(--color-blue-200, oklch(88.2% 0.059 254.128));
  --ui-color-info-300: var(--color-blue-300, oklch(80.9% 0.105 251.813));
  --ui-color-info-400: var(--color-blue-400, oklch(70.7% 0.165 254.624));
  --ui-color-info-500: var(--color-blue-500, oklch(62.3% 0.214 259.815));
  --ui-color-info-600: var(--color-blue-600, oklch(54.6% 0.245 262.881));
  --ui-color-info-700: var(--color-blue-700, oklch(48.8% 0.243 264.376));
  --ui-color-info-800: var(--color-blue-800, oklch(42.4% 0.199 265.638));
  --ui-color-info-900: var(--color-blue-900, oklch(37.9% 0.146 265.522));
  --ui-color-info-950: var(--color-blue-950, oklch(28.2% 0.091 267.935));
  --ui-color-warning-50: var(--color-yellow-50, oklch(98.7% 0.026 102.212));
  --ui-color-warning-100: var(--color-yellow-100, oklch(97.3% 0.071 103.193));
  --ui-color-warning-200: var(--color-yellow-200, oklch(94.5% 0.129 101.54));
  --ui-color-warning-300: var(--color-yellow-300, oklch(90.5% 0.182 98.111));
  --ui-color-warning-400: var(--color-yellow-400, oklch(85.2% 0.199 91.936));
  --ui-color-warning-500: var(--color-yellow-500, oklch(79.5% 0.184 86.047));
  --ui-color-warning-600: var(--color-yellow-600, oklch(68.1% 0.162 75.834));
  --ui-color-warning-700: var(--color-yellow-700, oklch(55.4% 0.135 66.442));
  --ui-color-warning-800: var(--color-yellow-800, oklch(47.6% 0.114 61.907));
  --ui-color-warning-900: var(--color-yellow-900, oklch(42.1% 0.095 57.708));
  --ui-color-warning-950: var(--color-yellow-950, oklch(28.6% 0.066 53.813));
  --ui-color-error-50: var(--color-red-50, oklch(97.1% 0.013 17.38));
  --ui-color-error-100: var(--color-red-100, oklch(93.6% 0.032 17.717));
  --ui-color-error-200: var(--color-red-200, oklch(88.5% 0.062 18.334));
  --ui-color-error-300: var(--color-red-300, oklch(80.8% 0.114 19.571));
  --ui-color-error-400: var(--color-red-400, oklch(70.4% 0.191 22.216));
  --ui-color-error-500: var(--color-red-500, oklch(63.7% 0.237 25.331));
  --ui-color-error-600: var(--color-red-600, oklch(57.7% 0.245 27.325));
  --ui-color-error-700: var(--color-red-700, oklch(50.5% 0.213 27.518));
  --ui-color-error-800: var(--color-red-800, oklch(44.4% 0.177 26.899));
  --ui-color-error-900: var(--color-red-900, oklch(39.6% 0.141 25.723));
  --ui-color-error-950: var(--color-red-950, oklch(25.8% 0.092 26.042));
  --ui-color-neutral-50: var(--color-slate-50, oklch(98.4% 0.003 247.858));
  --ui-color-neutral-100: var(--color-slate-100, oklch(96.8% 0.007 247.896));
  --ui-color-neutral-200: var(--color-slate-200, oklch(92.9% 0.013 255.508));
  --ui-color-neutral-300: var(--color-slate-300, oklch(86.9% 0.022 252.894));
  --ui-color-neutral-400: var(--color-slate-400, oklch(70.4% 0.04 256.788));
  --ui-color-neutral-500: var(--color-slate-500, oklch(55.4% 0.046 257.417));
  --ui-color-neutral-600: var(--color-slate-600, oklch(44.6% 0.043 257.281));
  --ui-color-neutral-700: var(--color-slate-700, oklch(37.2% 0.044 257.287));
  --ui-color-neutral-800: var(--color-slate-800, oklch(27.9% 0.041 260.031));
  --ui-color-neutral-900: var(--color-slate-900, oklch(20.8% 0.042 265.755));
  --ui-color-neutral-950: var(--color-slate-950, oklch(12.9% 0.042 264.695));
  }
  :root, .light {
  --ui-primary: var(--ui-color-primary-500);
  --ui-secondary: var(--ui-color-secondary-500);
  --ui-success: var(--ui-color-success-500);
  --ui-info: var(--ui-color-info-500);
  --ui-warning: var(--ui-color-warning-500);
  --ui-error: var(--ui-color-error-500);
  }
  .dark {
  --ui-primary: var(--ui-color-primary-400);
  --ui-secondary: var(--ui-color-secondary-400);
  --ui-success: var(--ui-color-success-400);
  --ui-info: var(--ui-color-info-400);
  --ui-warning: var(--ui-color-warning-400);
  --ui-error: var(--ui-color-error-400);
  }
}</style><script type="importmap">{"imports":{"#entry":"/_nuxt/xXZdRyno.js"}}</script><title>Веб сервер на ESP32 в Arduino IDE</title><style>pre code .line{display:block}</style><link rel="stylesheet" href="/_nuxt/entry.BAe0ftEU.css" crossorigin><style>@layer components {:where(.i-lucide\:chevron-down){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m6 9l6 6l6-6'/%3E%3C/svg%3E")}:where(.i-lucide\:hash){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 9h16M4 15h16M10 3L8 21m8-18l-2 18'/%3E%3C/svg%3E")}:where(.i-lucide\:house){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cg fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='2'%3E%3Cpath d='M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8'/%3E%3Cpath d='M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z'/%3E%3C/g%3E%3C/svg%3E")}:where(.i-lucide\:languages){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m5 8l6 6m-7 0l6-6l2-3M2 5h12M7 2h1m14 20l-5-10l-5 10m2-4h6'/%3E%3C/svg%3E")}:where(.i-lucide\:menu){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 5h16M4 12h16M4 19h16'/%3E%3C/svg%3E")}:where(.i-lucide\:x){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M18 6L6 18M6 6l12 12'/%3E%3C/svg%3E")}}</style><link rel="preload" as="fetch" crossorigin="anonymous" href="/ru/4-rozpynuvannya-esp32/_payload.json?7b75cc08-c451-4b7b-bfb6-0914ca8a3a72"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/xXZdRyno.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/vHEawbYj.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DuN1CE0x.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BU28_zJi.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/qwbkkEkT.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/LcspwcdL.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/D3tHURNB.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/C8mhq9V7.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/4OJ0XHgT.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DUf-5iOH.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/B5132SGR.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DWxvgORf.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CTY11QiY.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DmVmpFCT.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BsvPwS4f.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DGv1d8cG.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/cY_uYd8n.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/B1KZ8drP.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/C_4OeVjt.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/7b75cc08-c451-4b7b-bfb6-0914ca8a3a72.json"><link rel="prefetch" as="style" crossorigin href="/_nuxt/index.Cg9X1Qt0.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/VK_Pnq_q.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/DjockFvT.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/BmyWviBh.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/BOmmEHAR.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/DZINgRbw.js"><link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="shortcut icon" href="/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><meta name="description" content="Веб-сервер - це програма, яка приймає та обробляє запити від користувача через веб-клієнт. Веб-клієнтом може бути звичайний веб-браузер на ноутбуці або смартфоні. Зв'язок між клієнтом та сервером здійснюється за протоколом HTTP."><script type="module" src="/_nuxt/xXZdRyno.js" crossorigin></script><script>"use strict";(()=>{const t=window,e=document.documentElement,c=["dark","light"],n=getStorageValue("localStorage","nuxt-color-mode")||"system";let i=n==="system"?u():n;const r=e.getAttribute("data-color-mode-forced");r&&(i=r),l(i),t["__NUXT_COLOR_MODE__"]={preference:n,value:i,getColorScheme:u,addColorScheme:l,removeColorScheme:d};function l(o){const s=""+o+"",a="";e.classList?e.classList.add(s):e.className+=" "+s,a&&e.setAttribute("data-"+a,o)}function d(o){const s=""+o+"",a="";e.classList?e.classList.remove(s):e.className=e.className.replace(new RegExp(s,"g"),""),a&&e.removeAttribute("data-"+a)}function f(o){return t.matchMedia("(prefers-color-scheme"+o+")")}function u(){if(t.matchMedia&&f("").media!=="not all"){for(const o of c)if(f(":"+o).matches)return o}return"light"}})();function getStorageValue(t,e){switch(t){case"localStorage":return window.localStorage.getItem(e);case"sessionStorage":return window.sessionStorage.getItem(e);case"cookie":return getCookie(e);default:return null}}function getCookie(t){const c=("; "+window.document.cookie).split("; "+t+"=");if(c.length===2)return c.pop()?.split(";").shift()}</script></head><body><div id="__nuxt" class="isolate"><div><header class="border-b border-gray-200 dark:border-gray-800"><div class="w-full max-w-(--ui-container) mx-auto px-4 sm:px-6 lg:px-8"><!--[--><nav class="flex items-center justify-between py-2"><a href="/ru" class="flex items-center gap-2" title="Logo"><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 2511 1098" class="fill-current h-8"><path d="M1669.667 998.8c-77.984 62.987-187.462 98.98-325.434 98.98-158.619 0-285.643-40.292-373.776-116.926-100.63 74.135-230.853 116.926-378.074 116.926C250.451 1097.78.001 866.826.001 548.89S250.451 0 592.383 0c341.932 0 592.381 230.954 592.381 548.89 0 11.648-.35 23.145-1 34.543v37.443c0 125.974 47.991 190.461 154.47 190.461 107.978 0 154.469-64.487 154.469-190.461V23.995h353.93v596.88c0 125.975 47.99 190.462 155.968 190.462 106.479 0 154.469-64.487 154.469-190.461V23.995H2511v607.378c0 299.94-191.962 466.407-515.898 466.407-137.972 0-245.95-35.993-325.435-98.98ZM356.93 548.89c0 163.467 104.98 262.447 235.453 262.447 130.474 0 235.453-98.98 235.453-262.447 0-163.467-104.98-262.447-235.453-262.447-130.474 0-235.453 98.98-235.453 262.447Z"></path></svg></a><ul class="hidden md:flex items-center gap-6"><!--[--><!----><!----><nav data-collapsed="false" class="relative flex gap-1.5 [&amp;&gt;div]:min-w-0 items-center justify-between w-full" aria-label="Main" data-orientation="horizontal" dir="ltr" data-reka-navigation-menu><!--[--><!--[--><!--]--><!--[--><!--[--><div style="position:relative;"><ul class="isolate min-w-0 flex items-center" data-orientation="horizontal"><!--[--><!--[--><li data-menu-item class="min-w-0 py-2"><!--[--><!--[--><a href="/ru" data-reka-collection-item class="group relative w-full flex items-center gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary px-2.5 py-1.5 before:inset-x-px before:inset-y-0 text-muted hover:text-highlighted transition-colors data-[state=open]:text-highlighted"><!--[--><!--[--><!--[--><!----><!--]--><span class="truncate"><!--[-->Главная<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!----><!--]--></li><li data-menu-item class="min-w-0 py-2"><!--[--><!--[--><a href="/ru/about" data-reka-collection-item class="group relative w-full flex items-center gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary px-2.5 py-1.5 before:inset-x-px before:inset-y-0 text-muted hover:text-highlighted transition-colors data-[state=open]:text-highlighted"><!--[--><!--[--><!--[--><!----><!--]--><span class="truncate"><!--[-->О нас<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!----><!--]--></li><!--]--><!--]--></ul></div><!----><!--]--><!--]--><!--[--><!--]--><div class="absolute top-full left-0 flex w-full justify-center"><!----><!----></div><!--]--></nav><!--]--></ul><div class="flex items-center gap-2"><div aria-busy="true" aria-label="loading" aria-live="polite" role="alert" class="animate-pulse rounded-md bg-elevated size-7 m-1"><!--[--><!--]--></div><!--[--><!--[--><!--[--><!--[--><!--[--><button type="button" id="reka-dropdown-menu-trigger-v-0-1" aria-haspopup="menu" aria-expanded="false" data-state="closed" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 transition-colors cursor-pointer px-3 py-2 text-sm gap-2 text-default hover:bg-elevated active:bg-elevated focus:outline-none focus-visible:bg-elevated hover:disabled:bg-transparent dark:hover:disabled:bg-transparent hover:aria-disabled:bg-transparent dark:hover:aria-disabled:bg-transparent"><!--[--><!--[--><span class="iconify i-lucide:languages shrink-0 size-5 !size-5" aria-hidden="true" style=""></span><!--]--><!--[--><span class="truncate">Рус</span><!--]--><!--[--><!----><!--]--><!--]--></button><!--]--><!--]--><!--[--><!----><!--v-if--><!--]--><!--]--><!--]--><!--]--><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 transition-colors cursor-pointer text-sm gap-2 text-default hover:bg-elevated active:bg-elevated focus:outline-none focus-visible:bg-elevated hover:disabled:bg-transparent dark:hover:disabled:bg-transparent hover:aria-disabled:bg-transparent dark:hover:aria-disabled:bg-transparent p-2 md:hidden"><!--[--><!--[--><span class="iconify i-lucide:x !size-5" aria-hidden="true" style="display:none;"></span><span class="iconify i-lucide:menu !size-5" aria-hidden="true" style=""></span><!--]--><!--[--><!----><!--]--><!--[--><!----><!--]--><!--]--></button><!--]--><!--]--></div></nav><!--]--></div><!----></header><div class="w-full max-w-(--ui-container) mx-auto px-4 sm:px-6 lg:px-8 py-6"><!--[--><nav aria-label="breadcrumb" class="relative min-w-0 mb-5"><ol class="flex items-center gap-1.5"><!--[--><!--[--><li class="flex min-w-0"><!--[--><a href="/ru" class="group relative flex items-center gap-1.5 text-sm min-w-0 focus-visible:outline-primary text-primary font-semibold"><!--[--><!--[--><!--[--><span class="iconify i-lucide:house shrink-0 size-5" aria-hidden="true" style=""></span><!--]--><span class="truncate"><!--[-->Главная<!--]--></span><!--[--><!--]--><!--]--><!--]--></a><!--]--></li><!----><!--]--><!--]--></ol></nav><div class="grid grid-cols-12 gap-8"><aside class="hidden md:block md:col-span-4 lg:col-span-3 xl:col-span-3 mt-3"><div class="sticky top-4"><p class="text-lg font-bold mb-5">Содержание</p><!--[--><!----><!----><nav data-collapsed="false" class="relative flex gap-1.5 [&amp;&gt;div]:min-w-0 flex-col" aria-label="Main" data-orientation="vertical" dir="ltr" data-reka-navigation-menu><!--[--><!--[--><!--]--><!--[--><!--[--><ul class="isolate min-w-0 space-y-4"><!--[--><!--[--><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#режимы-работы-esp32" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Режимы работы ESP32<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#режим-станции-sta" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Режим станции (STA)<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#режим-программной-точки-доступа-softap" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Режим программной точки доступа (SoftAP)<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#управление-светодиодами-с-esp32-через-веб-сервер" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Управление светодиодами с ESP32 через веб сервер<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#как-это-работает" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Как это работает<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#http-сервер-на-esp32-в-режиме-программной-точки-доступа-wifi" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->HTTP сервер на ESP32 в режиме программной точки доступа WiFi<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#доступ-к-веб-серверу-в-режиме-программной-точки-доступа" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Доступ к веб серверу в режиме программной точки доступа<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#как-устроена-программа" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Как устроена программа<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#функция-setup" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Функция Setup()<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#функция-loop" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Функция Loop()<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#отображение-веб-страницы-html" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Отображение веб-страницы HTML<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#стилизация-веб-страницы" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Стилизация веб-страницы<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#заголовок-веб-страницы" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Заголовок веб-страницы<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#отображение-кнопок-и-соответствующего-состояния" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Отображение кнопок и соответствующего состояния<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#доступ-к-веб-серверу-в-режиме-станции-sta" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Доступ к веб-серверу в режиме станции (STA)<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#доступ-к-веб-серверу-в-режиме-sta" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Доступ к веб-серверу в режиме STA<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#объяснение-кода" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Объяснение кода<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><!--]--><!--]--></ul><!----><!--]--><!--]--><!--[--><!--]--><!----><!--]--></nav><!--]--></div></aside><article class="col-span-12 md:col-span-8 lg:col-span-8 xl:col-span-9 wrap-break-word"><header class="space-y-5 mb-5 prose dark:prose-invert"><h1>Веб сервер на ESP32 в Arduino IDE</h1><!----><p>Веб-сервер - це програма, яка приймає та обробляє запити від користувача через веб-клієнт. Веб-клієнтом може бути звичайний веб-браузер на ноутбуці або смартфоні. Зв&#39;язок між клієнтом та сервером здійснюється за протоколом HTTP.</p><div class="flex gap-4 items-center"><div class="inline-flex flex-row-reverse justify-end"><!----><!--[--><span class="inline-flex items-center justify-center shrink-0 select-none align-middle bg-elevated size-9 text-lg overflow-hidden relative rounded-full ring-bg first:me-0 ring-2 -me-1.5" style=""><img onerror="this.setAttribute(&#39;data-error&#39;, 1)" width="36" height="36" alt="Niqitos" data-nuxt-img srcset="/_ipx/s_36x36/images/avatars/niqitos.jpg 1x, /_ipx/s_72x72/images/avatars/niqitos.jpg 2x" role="img" class="h-full w-full rounded-[inherit] object-cover" src="/_ipx/s_36x36/images/avatars/niqitos.jpg"></span><!--]--></div><div class="text-sm"><div class="flex gap-1"><!--[--><span class="after:content-[&#39;,&#39;] last:after:content-[&#39;&#39;]">Niqitos</span><!--]--></div><div class="flex items-center gap-2 text-gray-400"><span>7 сент. 2025 г.</span><span>•</span><span>16 минут</span></div></div></div><div data-state="closed" class="md:hidden"><!--[--><!--[--><!--[--><button type="button" aria-controls aria-expanded="false" data-state="closed" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 transition-colors cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 w-full justify-center text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Содержание</span><!--]--><!--[--><span class="iconify i-lucide:chevron-down shrink-0 size-5 ms-auto" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><div class="data-[state=open]:animate-[collapsible-down_200ms_ease-out] data-[state=closed]:animate-[collapsible-up_200ms_ease-out] overflow-hidden mt-5" id="reka-collapsible-content-v-0-3-1" hidden data-state="closed" style="--reka-collapsible-content-height:0px;--reka-collapsible-content-width:0px;"><!--v-if--></div><!--]--></div></header><div class="prose dark:prose-invert"><p><!--[-->Клиент отправляет запрос по определенному адресу, а сервер в ответ отправляет веб-страницу или сообщение об ошибке. Например, ошибка 404 означает, что по адресу запроса ничего нет. Веб страницы — это чаще всего HTML-документы.<!--]--></p><h2 id="режимы-работы-esp32"><!--[-->Режимы работы ESP32<!--]--></h2><p><!--[-->ESP32 имеет 3 режима работы:<!--]--></p><ol><!--[--><li><!--[-->режим станции (STA)<!--]--></li><li><!--[-->режим программной точки доступа (SoftAP)<!--]--></li><li><!--[-->оба одновременно.<!--]--></li><!--]--></ol><p><!--[-->Это обеспечивает возможность построения ячеистых сетей.<!--]--></p><h2 id="режим-станции-sta"><!--[-->Режим станции (STA)<!--]--></h2><p><!--[-->В этом режиме ESP32 подключается к существующей сети WiFi, которую создает беспроводной роутер<!--]--></p><p><!--[-->В режиме STA беспроводной маршрутизатор назначает IP адрес ESP32. По этому адресу и идут обращения к веб серверу ESP32. В этом режиме к серверу могут подключатся только устройства, которые подключены к той же самой сети WiFi, что и ESP32.<!--]--></p><h2 id="режим-программной-точки-доступа-softap"><!--[-->Режим программной точки доступа (SoftAP)<!--]--></h2><p><!--[-->В этом режиме ESP32 создает свою собственную точку доступа и действует в качестве хаба, к которому можно подключить до 5 устройств по WiFi.<!--]--></p><p><!--[-->В режиме программной точки доступа ESP32 создает новую сеть WiFi с заданным названием (SSID) и адресом IP. По этому адресу к веб серверу ESP32 могут обращаться все подключенные к её сети WiFi устройства.<!--]--></p><h2 id="управление-светодиодами-с-esp32-через-веб-сервер"><!--[-->Управление светодиодами с ESP32 через веб сервер<!--]--></h2><p><!--[-->Для сборки схемы нам понадобятся:
1. ESP32
2. макетная плата
3. 2 светодиода
4. 2 токоограничивающих резистора на 220 Ом
5. джамперы
Важно: убедитесь, что ноги ESP32 расположены по разные стороны макетной платы.<!--]--></p><p><!--[-->Подключите анод (+) светодиодов к пинам 4 и 5 через резистор на 220 Ом, как показано на схеме ниже.<!--]--></p><p><!--[-->Подключение светодиодов к ESP32<!--]--></p><h2 id="как-это-работает"><!--[-->Как это работает<!--]--></h2><p><!--[-->Когда вы вводите URL-адрес в веб-браузере и нажимаете клавишу ВВОД, браузер отправляет HTTP-запрос, а точнее GET-запрос, на веб-сервер. В ответ на ваш запрос по данному адресу веб сервер выполнит определенную последовательность действий и вернет HTTP-ответ. Например, мы вводим URL-адрес <code class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 rounded-md font-mono text-sm"><!--[-->http://192.168.1.1/ledon<!--]--></code> в браузере. Затем браузер отправляет HTTP-запрос в ESP32 для обработки. Когда ESP32 читает этот запрос, он знает, что пользователь хочет включить светодиод. Таким образом, веб сервер включает светодиод и в ответ отправляет динамическую веб-страницу, отображающую состояние светодиода: ВКЛ.<!--]--></p><h2 id="http-сервер-на-esp32-в-режиме-программной-точки-доступа-wifi"><!--[-->HTTP сервер на ESP32 в режиме программной точки доступа WiFi<!--]--></h2><p><!--[-->Подсоедините ESP32 к компьютеру и загрузите скетч приведенный ниже. Далее я расскажу как он работает.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>  #include &lt;WiFi.h&gt;
  #include &lt;WebServer.h&gt;

  /* Название и пароль точки доступа */
  const char* ssid = &quot;ESP32&quot;;
  const char* password = &quot;12345678&quot;;

  /* Детали IP адреса */
  IPAddress local_ip(192,168,1,1);
  IPAddress gateway(192,168,1,1);
  IPAddress subnet(255,255,255,0);

  // объявляем объект библиотеки WebServer
  WebServer server(80);

  uint8_t LED1pin = 4;
  bool LED1status = LOW;

  uint8_t LED2pin = 5;
  bool LED2status = LOW;

  void setup() {
    Serial.begin(115200);
    pinMode(LED1pin, OUTPUT);
    pinMode(LED2pin, OUTPUT);

    WiFi.softAP(ssid, password);
    WiFi.softAPConfig(local_ip, gateway, subnet);
    delay(100);

    server.on(&quot;/&quot;, handle_OnConnect);
    server.on(&quot;/led1on&quot;, handle_led1on);
    server.on(&quot;/led1off&quot;, handle_led1off);
    server.on(&quot;/led2on&quot;, handle_led2on);
    server.on(&quot;/led2off&quot;, handle_led2off);
    server.onNotFound(handle_NotFound);

    server.begin();
    Serial.println(&quot;HTTP сервер запущен&quot;);
  }

  void loop() {
    server.handleClient();
    if(LED1status)
    {digitalWrite(LED1pin, HIGH);}
    else
    {digitalWrite(LED1pin, LOW);}

    if(LED2status)
    {digitalWrite(LED2pin, HIGH);}
    else
    {digitalWrite(LED2pin, LOW);}
  }

  void handle_OnConnect() {
    LED1status = LOW;
    LED2status = LOW;
    Serial.println(&quot;Статус GPIO4: Выкл | Статус GPIO5: Вкл&quot;);
    server.send(200, &quot;text/html&quot;, SendHTML(LED1status,LED2status));
  }

  void handle_led1on() {
    LED1status = HIGH;
    Serial.println(&quot;Статус GPIO4: Вкл&quot;);
    server.send(200, &quot;text/html&quot;, SendHTML(true,LED2status));
  }

  void handle_led1off() {
    LED1status = LOW;
    Serial.println(&quot;Статус GPIO4: Выкл&quot;);
    server.send(200, &quot;text/html&quot;, SendHTML(false,LED2status));
  }

  void handle_led2on() {
    LED2status = HIGH;
    Serial.println(&quot;Статус GPIO5: Вкл&quot;);
    server.send(200, &quot;text/html&quot;, SendHTML(LED1status,true));
  }

  void handle_led2off() {
    LED2status = LOW;
    Serial.println(&quot;Статус GPIO5: Выкл&quot;);
    server.send(200, &quot;text/html&quot;, SendHTML(LED1status,false));
  }

  void handle_NotFound(){
    server.send(404, &quot;text/plain&quot;, &quot;Не найдено&quot;);
  }

  String SendHTML(uint8_t led1stat,uint8_t led2stat){
    String ptr = &quot;&lt;!DOCTYPE html&gt; &lt;html&gt;\n&quot;;
    ptr +=&quot;&lt;head&gt;&lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0, user-scalable=no\&quot;&gt;\n&quot;;
    ptr +=&quot;&lt;title&gt;LED Control&lt;/title&gt;\n&quot;;
    ptr +=&quot;&lt;style&gt;html { font-family: Helvetica; display: inline-block; margin: 0px auto; text-align: center;}\n&quot;;
    ptr +=&quot;body{margin-top: 50px;} h1 {color: #444444;margin: 50px auto 30px;} h3 {color: #444444;margin-bottom: 50px;}\n&quot;;
    ptr +=&quot;.button {display: block;width: 80px;background-color: #3498db;border: none;color: white;padding: 13px 30px;text-decoration: none;font-size: 25px;margin: 0px auto 35px;cursor: pointer;border-radius: 4px;}\n&quot;;
    ptr +=&quot;.button-on {background-color: #3498db;}\n&quot;;
    ptr +=&quot;.button-on:active {background-color: #2980b9;}\n&quot;;
    ptr +=&quot;.button-off {background-color: #34495e;}\n&quot;;
    ptr +=&quot;.button-off:active {background-color: #2c3e50;}\n&quot;;
    ptr +=&quot;p {font-size: 14px;color: #888;margin-bottom: 10px;}\n&quot;;
    ptr +=&quot;&lt;/style&gt;\n&quot;;
    ptr +=&quot;&lt;/head&gt;\n&quot;;
    ptr +=&quot;&lt;body&gt;\n&quot;;
    ptr +=&quot;&lt;h1&gt;Веб сервер ESP32&lt;/h1&gt;\n&quot;;
    ptr +=&quot;&lt;h3&gt;В режиме программной точки доступа&lt;/h3&gt;\n&quot;;

    if(led1stat)
    {ptr +=&quot;&lt;p&gt;Статус LED1: Вкл&lt;/p&gt;&lt;a class=\&quot;button button-off\&quot; href=\&quot;/led1off\&quot;&gt;OFF&lt;/a&gt;\n&quot;;}
    else
    {ptr +=&quot;&lt;p&gt;Статус LED1: Выкл&lt;/p&gt;&lt;a class=\&quot;button button-on\&quot; href=\&quot;/led1on\&quot;&gt;ON&lt;/a&gt;\n&quot;;}

    if(led2stat)
    {ptr +=&quot;&lt;p&gt;Статус LED2: Вкл&lt;/p&gt;&lt;a class=\&quot;button button-off\&quot; href=\&quot;/led2off\&quot;&gt;OFF&lt;/a&gt;\n&quot;;}
    else
    {ptr +=&quot;&lt;p&gt;Статус LED2: Выкл&lt;/p&gt;&lt;a class=\&quot;button button-on\&quot; href=\&quot;/led2on\&quot;&gt;ON&lt;/a&gt;\n&quot;;}

    ptr +=&quot;&lt;/body&gt;\n&quot;;
    ptr +=&quot;&lt;/html&gt;\n&quot;;
    return ptr;
  }
</code><!--]-->
  </pre><h2 id="доступ-к-веб-серверу-в-режиме-программной-точки-доступа"><!--[-->Доступ к веб серверу в режиме программной точки доступа<!--]--></h2><p><!--[-->После загрузки скетча откройте монитор серийного порта со скоростью 115200 бод. Затем нажмите кнопку RESET на ESP32. Если все в порядке, будет показано сообщение о запуске HTTP-сервера.<!--]--></p><p><!--[-->Возьмите любое устройство, которое можно подключить подключить к сети WiFi: телефон, ноутбук и т. д. Найдите сеть под названием ESP32. Присоединитесь к сети с паролем 123456789.<!--]--></p><p><!--[-->После подключения к сети ESP32 откройте браузер и в адресной строке введите 192.168.1.1. ESP32 должен отобразить веб-страницу с текущим состоянием светодиодов и две кнопки для управления ими. В то же время монитор серийного порта должен отображать состояние выводов GPIO ESP32.<!--]--></p><p><!--[-->Теперь нажмите кнопку включения LED1 и следите за URL. ESP32 получит запрос по адресу /led1on, по которому лежит функция переключения состояния первого светодиода. После этого веб-сервер возвращает веб-страницу с обновленным статусом светодиодов. Состояние выводов GPIO также изменится и в мониторе серийного порта.<!--]--></p><p><!--[-->Проверьте вторую кнопку. Все должно сработать точно также.<!--]--></p><h2 id="как-устроена-программа"><!--[-->Как устроена программа<!--]--></h2><p><!--[-->Скетч начинается с подключения библиотеки WiFi.h. Эта библиотека предоставляет специальные методы для работы с WiFi на ESP32, например, для подключения к сети. Затем подключается библиотека WebServer.h, в которой есть несколько методов для настройки сервера и обработки входящих HTTP-запросов.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>#include &lt;WiFi.h&gt;
#include &lt;WebServer.h&gt;
</code><!--]-->
  </pre><p><!--[-->Так как мы используем ESP32 в режиме программной точки доступа, необходимо создать сеть WiFi. Для этого нужно указать SSID, Пароль, IP адрес, IP маску подсети и IP шлюз.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>/* Название и пароль точки доступа */
const char* ssid = &quot;ESP32&quot;;
const char* password = &quot;12345678&quot;;

/* Детали IP адреса */
IPAddress local_ip(192,168,1,1);
IPAddress gateway(192,168,1,1);
IPAddress subnet(255,255,255,0);
</code><!--]-->
  </pre><p><!--[-->Далее объявляем объект библиотеки WebServer, чтобы получить доступ к ее функциям. Конструктор этого объекта принимает порт в качестве параметра. Портом по умолчанию для HTTP протокола — 80. Теперь подключится к серверу можно без указания порта в URL.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>// объявляем объект библиотеки WebServer
WebServer server(80);
</code><!--]-->
  </pre><p><!--[-->Далее объявляем выводы GPIO ESP32, к которым подключены светодиоды, и их начальное состояние.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>uint8_t LED1pin = 4;
bool LED1status = LOW;

uint8_t LED2pin = 5;
bool LED2status = LOW;
</code><!--]-->
  </pre><h2 id="функция-setup"><!--[-->Функция Setup()<!--]--></h2><p><!--[-->Перед запуском HTTP-сервера нужно его настроить.<!--]--></p><p><!--[-->Откроем монитор серийного порта для отладки и установим режим роботы портов GPIO в OUTPUT.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>Serial.begin(115200);
pinMode(LED1pin, OUTPUT);
pinMode(LED2pin, OUTPUT);
</code><!--]-->
  </pre><p><!--[-->Затем указываем SSID, пароль, IP-адрес, IP-маску подсети и IP-шлюз для создания сети Wi-Fi точки доступа.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>WiFi.softAP(ssid, password);
WiFi.softAPConfig(local_ip, gateway, subnet);
delay(100);
</code><!--]-->
  </pre><p><!--[-->Чтобы обрабатывать входящие HTTP-запросы, нам нужно указать, какой код выполнять при запросе по определенному URL. Для этого мы используем метод on объекта server. Этот метод принимает два параметра: URL-адрес запроса и имя функции, которую мы хотим выполнить при запросе по этому URL.<!--]--></p><p><!--[-->For example, the first line of below code snippet indicates that when a server receives an HTTP request on the root (/) path, it will trigger the handle_OnConnect() function. Note that the URL specified is a relative path.<!--]--></p><p><!--[-->Например, первая строка приведенного ниже фрагмента кода указывает, что когда сервер получает HTTP-запрос по корневому пути (/), он запускает функцию handle_OnConnect(). Обратите внимание, что указанный URL-адрес является относительным путем.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>server.on(&quot;/&quot;, handle_OnConnect);
</code><!--]-->
  </pre><p><!--[-->Аналогично, нам нужно указать еще 4 URL-адреса для обработки двух состояний двух светодиодов.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>server.on(&quot;/led1on&quot;, handle_led1on);
server.on(&quot;/led1off&quot;, handle_led1off);
server.on(&quot;/led2on&quot;, handle_led2on);
server.on(&quot;/led2off&quot;, handle_led2off);
</code><!--]-->
  </pre><p><!--[-->Если клиент запрашивает какой-либо URL, отличный от указанных в server.on(), сервер должен ответить с HTTP-статусом 404 (Not Found) и сообщением для пользователя. Для этого используем метод onNotFound() объекта server.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>server.onNotFound(handle_NotFound);
</code><!--]-->
  </pre><p><!--[-->Затем запускаем сервер вызвав метод begin() объекта server.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>server.begin();
Serial.println(&quot;HTTP server started&quot;);
</code><!--]-->
  </pre><h2 id="функция-loop"><!--[-->Функция Loop()<!--]--></h2><p><!--[-->Для обработки входящих HTTP-запросов используется метод handleClient() объекта server. После получения запроса проверяем изменение состояния светодиодов.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>void loop() {
  server.handleClient();

  if (LED1status) {
    digitalWrite(LED1pin, HIGH);
  } else {
    digitalWrite(LED1pin, LOW);
  }

  if (LED2status) {
    digitalWrite(LED2pin, HIGH);
  } else {
    digitalWrite(LED2pin, LOW);
  }
}
</code><!--]-->
  </pre><p><!--[-->Далее создаем функцию handle_OnConnect(), которую мы привязали к корневому URL <code class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 rounded-md font-mono text-sm"><!--[-->/<!--]--></code> с помощью <code class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 rounded-md font-mono text-sm"><!--[-->server.on<!--]--></code>. В начале этой функции установим изначальное состояние обоих светодиодов как LOW (выключены) и выведем состояние в монитор серийного порта. Чтобы ответить на HTTP-запрос, используется метод send(), которому передается код HTTP-ответа, тип контента и сам контент.<!--]--></p><p><!--[-->В нашем случае мы отправляем код 200 (один из кодов состояния HTTP), который соответствует ответу OK. Затем указываем тип содержимого «text/html» и вызываем пользовательскую функцию SendHTML(), которая создает динамическую HTML-страницу, и передаем ей состояние светодиодов в качестве параметров.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>void handle_OnConnect() {
  LED1status = LOW;
  LED2status = LOW;
  Serial.println(&quot;GPIO4 Status: OFF | GPIO5 Status: OFF&quot;);
  server.send(200, &quot;text/html&quot;, SendHTML(LED1status,LED2status));
}
</code><!--]-->
  </pre><p><!--[-->Аналогично, создаем четыре функции для обработки запросов на включение/выключение светодиодов, а так же страницу ошибки 404.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>void handle_led1on() {
  LED1status = HIGH;
  Serial.println(&quot;GPIO4 Status: ON&quot;);
  server.send(200, &quot;text/html&quot;, SendHTML(true,LED2status));
}

void handle_led1off() {
  LED1status = LOW;
  Serial.println(&quot;GPIO4 Status: OFF&quot;);
  server.send(200, &quot;text/html&quot;, SendHTML(false,LED2status));
}

void handle_led2on() {
  LED2status = HIGH;
  Serial.println(&quot;GPIO5 Status: ON&quot;);
  server.send(200, &quot;text/html&quot;, SendHTML(LED1status,true));
}

void handle_led2off() {
  LED2status = LOW;
  Serial.println(&quot;GPIO5 Status: OFF&quot;);
  server.send(200, &quot;text/html&quot;, SendHTML(LED1status,false));
}

void handle_NotFound(){
  server.send(404, &quot;text/plain&quot;, &quot;Not found&quot;);
}
</code><!--]-->
  </pre><h2 id="отображение-веб-страницы-html"><!--[-->Отображение веб-страницы HTML<!--]--></h2><p><!--[-->Функция <code class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 rounded-md font-mono text-sm"><!--[-->SendHTML()<!--]--></code> генерирует веб-страницу всякий раз, когда веб-сервер ESP32 получает запрос от веб-клиента. Эта функция просто объединяет HTML-код в большую строку и возвращает его в функцию <code class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 rounded-md font-mono text-sm"><!--[-->server.send()<!--]--></code>, о которой мы говорили ранее. Функция принимает состояние светодиодов в качестве параметров для динамической генерации HTML-страницы.<!--]--></p><p><!--[-->Вначале HTML документа всегда должен стоять — элемент который указывает, что мы отправляем HTML-код.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>String SendHTML(uint8_t led1stat,uint8_t led2stat){
String ptr = &quot;&lt;!DOCTYPE html&gt; &lt;html&gt;\n&quot;;
</code><!--]-->
  </pre><p><!--[-->Элемент <code class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 rounded-md font-mono text-sm"><!--[-->viewport<!--]--></code> делает веб-страницу отзывчивой в любом веб-браузере.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>ptr +=&quot;&lt;head&gt;&lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0, user-scalable=no\&quot;&gt;\n&quot;;
</code><!--]-->
  </pre><p><!--[-->Тег<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>ptr +=&quot;&lt;title&gt;LED Control&lt;/title&gt;\n&quot;;
</code><!--]-->
  </pre><h2 id="стилизация-веб-страницы"><!--[-->Стилизация веб-страницы<!--]--></h2><p><!--[-->Добавим CSS для стилизации кнопок и внешнего вида веб-страницы. Шрифт Helvetica, отображение содержимого в виде встроенного блока и выровняем по центру.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>ptr +=&quot;&lt;style&gt;html { font-family: Helvetica; display: inline-block; margin: 0px auto; text-align: center;}\n&quot;;
</code><!--]-->
  </pre><p><!--[-->Далее задаем цвет, размер шрифт и отступы для тегов <code class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 rounded-md font-mono text-sm"><!--[-->body<!--]--></code>, <code class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 rounded-md font-mono text-sm"><!--[-->h1<!--]--></code>, <code class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 rounded-md font-mono text-sm"><!--[-->h3<!--]--></code> и <code class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 rounded-md font-mono text-sm"><!--[-->p<!--]--></code>.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>ptr +=&quot;body{margin-top: 50px;} h1 {color: #444444;margin: 50px auto 30px;} h3 {color: #444444;margin-bottom: 50px;}\n&quot;;
ptr +=&quot;p {font-size: 14px;color: #888;margin-bottom: 10px;}\n&quot;;
</code><!--]-->
  </pre><p><!--[-->Стилизуем цвет, размер, отступы и границы кнопок. Кнопки ВКЛ и ВЫКЛ должны быть разного цвета, а селектор <Active></Active> создаст эффект нажатия.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>ptr +=&quot;.button {display: block;width: 80px;background-color: #3498db;border: none;color: white;padding: 13px 30px;text-decoration: none;font-size: 25px;margin: 0px auto 35px;cursor: pointer;border-radius: 4px;}\n&quot;;
ptr +=&quot;.button-on {background-color: #3498db;}\n&quot;;
ptr +=&quot;.button-on:active {background-color: #2980b9;}\n&quot;;
ptr +=&quot;.button-off {background-color: #34495e;}\n&quot;;
ptr +=&quot;.button-off:active {background-color: #2c3e50;}\n&quot;;
</code><!--]-->
  </pre><h2 id="заголовок-веб-страницы"><!--[-->Заголовок веб-страницы<!--]--></h2><p><!--[-->Далее выведем заголовок веб-страницы. Вы можете изменить этот текст под вашего приложение.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>ptr +=&quot;&lt;h1&gt;ESP32 Web Server&lt;/h1&gt;\n&quot;;
ptr +=&quot;&lt;h3&gt;Using Access Point(AP) Mode&lt;/h3&gt;\n&quot;;
</code><!--]-->
  </pre><h2 id="отображение-кнопок-и-соответствующего-состояния"><!--[-->Отображение кнопок и соответствующего состояния<!--]--></h2><p><!--[-->Для динамического отображения кнопок и состояния светодиодов мы используем оператор <code class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 rounded-md font-mono text-sm"><!--[-->if<!--]--></code>. Таким образом, в зависимости от состояния выводов GPIO, отображается кнопка Вкл/Выкл.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>if (led1stat) {
  ptr +=&quot;&lt;p&gt;Статус светодиода 1: Вкл&lt;/p&gt;&lt;a class=\&quot;button button-off\&quot; href=\&quot;/led1off\&quot;&gt;Выкл&lt;/a&gt;\n&quot;;
} else {
  ptr +=&quot;&lt;p&gt;Статус светодиода 1: Выкл&lt;/p&gt;&lt;a class=\&quot;button button-on\&quot; href=\&quot;/led1on\&quot;&gt;Вкл&lt;/a&gt;\n&quot;;
}

if (led2stat) {
  ptr +=&quot;&lt;p&gt;Статус светодиода 2: Вкл&lt;/p&gt;&lt;a class=\&quot;button button-off\&quot; href=\&quot;/led2off\&quot;&gt;Выкл&lt;/a&gt;\n&quot;;
} else {
  ptr +=&quot;&lt;p&gt;Статус светодиода 2: Выкл&lt;/p&gt;&lt;a class=\&quot;button button-on\&quot; href=\&quot;/led2on\&quot;&gt;Вкл&lt;/a&gt;\n&quot;;
}
</code><!--]-->
  </pre><h2 id="доступ-к-веб-серверу-в-режиме-станции-sta"><!--[-->Доступ к веб-серверу в режиме станции (STA)<!--]--></h2><p><!--[-->Теперь давайте перейдем к нашему следующему примеру, который демонстрирует, как переключить ESP32 в режим Station (STA) и обслуживать веб-страницы для любого подключенного клиента в существующей сети.<!--]--></p><p><!--[-->Прежде чем приступить к загрузке скетча, необходимо внести некоторые изменения. Вам необходимо изменить следующие две переменные с вашими сетевыми учетными данными, чтобы ESP32 мог установить соединение с существующей сетью.<!--]--></p><p><!--[-->Как только вы закончите, попробуйте набросок.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>#include &lt;WiFi.h&gt;
#include &lt;WebServer.h&gt;

/*Put your SSID &amp; Password*/
const char* ssid = &quot; YourNetworkName&quot;;  // Enter SSID here
const char* password = &quot; YourPassword&quot;;  //Enter Password here

WebServer server(80);

uint8_t LED1pin = 4;
bool LED1status = LOW;

uint8_t LED2pin = 5;
bool LED2status = LOW;

void setup() {
  Serial.begin(115200);
  delay(100);
  pinMode(LED1pin, OUTPUT);
  pinMode(LED2pin, OUTPUT);

  Serial.println(&quot;Connecting to &quot;);
  Serial.println(ssid);

  //connect to your local wi-fi network
  WiFi.begin(ssid, password);

  //check wi-fi is connected to wi-fi network
  while (WiFi.status() != WL_CONNECTED) {
  delay(1000);
  Serial.print(&quot;.&quot;);
  }
  Serial.println(&quot;&quot;);
  Serial.println(&quot;WiFi connected..!&quot;);
  Serial.print(&quot;Got IP: &quot;);  Serial.println(WiFi.localIP());

  server.on(&quot;/&quot;, handle_OnConnect);
  server.on(&quot;/led1on&quot;, handle_led1on);
  server.on(&quot;/led1off&quot;, handle_led1off);
  server.on(&quot;/led2on&quot;, handle_led2on);
  server.on(&quot;/led2off&quot;, handle_led2off);
  server.onNotFound(handle_NotFound);

  server.begin();
  Serial.println(&quot;HTTP server started&quot;);
}
void loop() {
  server.handleClient();
  if(LED1status)
  {digitalWrite(LED1pin, HIGH);}
  else
  {digitalWrite(LED1pin, LOW);}

  if(LED2status)
  {digitalWrite(LED2pin, HIGH);}
  else
  {digitalWrite(LED2pin, LOW);}
}

void handle_OnConnect() {
  LED1status = LOW;
  LED2status = LOW;
  Serial.println(&quot;GPIO4 Status: OFF | GPIO5 Status: OFF&quot;);
  server.send(200, &quot;text/html&quot;, SendHTML(LED1status,LED2status));
}

void handle_led1on() {
  LED1status = HIGH;
  Serial.println(&quot;GPIO4 Status: ON&quot;);
  server.send(200, &quot;text/html&quot;, SendHTML(true,LED2status));
}

void handle_led1off() {
  LED1status = LOW;
  Serial.println(&quot;GPIO4 Status: OFF&quot;);
  server.send(200, &quot;text/html&quot;, SendHTML(false,LED2status));
}

void handle_led2on() {
  LED2status = HIGH;
  Serial.println(&quot;GPIO5 Status: ON&quot;);
  server.send(200, &quot;text/html&quot;, SendHTML(LED1status,true));
}

void handle_led2off() {
  LED2status = LOW;
  Serial.println(&quot;GPIO5 Status: OFF&quot;);
  server.send(200, &quot;text/html&quot;, SendHTML(LED1status,false));
}

void handle_NotFound(){
  server.send(404, &quot;text/plain&quot;, &quot;Not found&quot;);
}

String SendHTML(uint8_t led1stat,uint8_t led2stat){
  String ptr = &quot;&lt;!DOCTYPE html&gt; &lt;html&gt;\n&quot;;
  ptr +=&quot;&lt;head&gt;&lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0, user-scalable=no\&quot;&gt;\n&quot;;
  ptr +=&quot;&lt;title&gt;LED Control&lt;/title&gt;\n&quot;;
  ptr +=&quot;&lt;style&gt;html { font-family: Helvetica; display: inline-block; margin: 0px auto; text-align: center;}\n&quot;;
  ptr +=&quot;body{margin-top: 50px;} h1 {color: #444444;margin: 50px auto 30px;} h3 {color: #444444;margin-bottom: 50px;}\n&quot;;
  ptr +=&quot;.button {display: block;width: 80px;background-color: #3498db;border: none;color: white;padding: 13px 30px;text-decoration: none;font-size: 25px;margin: 0px auto 35px;cursor: pointer;border-radius: 4px;}\n&quot;;
  ptr +=&quot;.button-on {background-color: #3498db;}\n&quot;;
  ptr +=&quot;.button-on:active {background-color: #2980b9;}\n&quot;;
  ptr +=&quot;.button-off {background-color: #34495e;}\n&quot;;
  ptr +=&quot;.button-off:active {background-color: #2c3e50;}\n&quot;;
  ptr +=&quot;p {font-size: 14px;color: #888;margin-bottom: 10px;}\n&quot;;
  ptr +=&quot;&lt;/style&gt;\n&quot;;
  ptr +=&quot;&lt;/head&gt;\n&quot;;
  ptr +=&quot;&lt;body&gt;\n&quot;;
  ptr +=&quot;&lt;h1&gt;ESP32 Web Server&lt;/h1&gt;\n&quot;;
    ptr +=&quot;&lt;h3&gt;Using Station(STA) Mode&lt;/h3&gt;\n&quot;;

   if(led1stat)
  {ptr +=&quot;&lt;p&gt;LED1 Status: ON&lt;/p&gt;&lt;a class=\&quot;button button-off\&quot; href=\&quot;/led1off\&quot;&gt;OFF&lt;/a&gt;\n&quot;;}
  else
  {ptr +=&quot;&lt;p&gt;LED1 Status: OFF&lt;/p&gt;&lt;a class=\&quot;button button-on\&quot; href=\&quot;/led1on\&quot;&gt;ON&lt;/a&gt;\n&quot;;}

  if(led2stat)
  {ptr +=&quot;&lt;p&gt;LED2 Status: ON&lt;/p&gt;&lt;a class=\&quot;button button-off\&quot; href=\&quot;/led2off\&quot;&gt;OFF&lt;/a&gt;\n&quot;;}
  else
  {ptr +=&quot;&lt;p&gt;LED2 Status: OFF&lt;/p&gt;&lt;a class=\&quot;button button-on\&quot; href=\&quot;/led2on\&quot;&gt;ON&lt;/a&gt;\n&quot;;}

  ptr +=&quot;&lt;/body&gt;\n&quot;;
  ptr +=&quot;&lt;/html&gt;\n&quot;;
  return ptr;
}
</code><!--]-->
  </pre><h2 id="доступ-к-веб-серверу-в-режиме-sta"><!--[-->Доступ к веб-серверу в режиме STA<!--]--></h2><p><!--[-->После загрузки эскиза откройте последовательный монитор со скоростью 115200 бод. И нажмите кнопку RESET на ESP32. Если все в порядке, он выведет динамический IP-адрес, полученный от вашего маршрутизатора, и покажет сообщение HTTP-сервер запущен.<!--]--></p><p><!--[-->Затем загрузите браузер и укажите IP-адрес, указанный на последовательном мониторе. ESP32 должен отображать веб-страницу с текущим состоянием светодиодов и двумя кнопками для управления ими. Если одновременно взглянуть на последовательный монитор, вы увидите состояние выводов GPIO ESP32.<!--]--></p><p><!--[-->Теперь нажмите кнопку, чтобы включить LED1, следя за URL. Как только вы нажмете кнопку, ESP32 получит запрос на URL / led1on. Затем он включает светодиод1 и отображает веб-страницу с обновленным статусом светодиодов. Он также печатает состояние вывода GPIO на последовательном мониторе.<!--]--></p><p><!--[-->Вы можете проверить кнопку LED2 и убедиться, что она работает аналогичным образом.<!--]--></p><h2 id="объяснение-кода"><!--[-->Объяснение кода<!--]--></h2><p><!--[-->Если вы наблюдаете этот код с предыдущим кодом, единственное отличие состоит в том, что мы не устанавливаем программную точку доступа, вместо этого мы присоединяемся к существующей сети с помощью функции WiFi.begin ().<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>//connect to your local wi-fi network
WiFi.begin(ssid, password);
</code><!--]-->
  </pre><p><!--[-->Пока ESP32 пытается подключиться к сети, мы можем проверить состояние подключения с помощью функции WiFi.status ().<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>//check wi-fi is connected to wi-fi network
while (WiFi.status() != WL_CONNECTED)
{
  delay(1000);
  Serial.print(&quot;.&quot;);
}
</code><!--]-->
  </pre><p><!--[-->Для вашей информации эта функция возвращает следующие статусы:<!--]--></p><ul><!--[--><li><!--[-->WL_CONNECTED: assigned when connected to a Wi-Fi network<!--]--></li><li><!--[-->WL_NO_SHIELD: assigned when no Wi-Fi shield is present<!--]--></li><li><!--[-->WL_IDLE_STATUS: a temporary status assigned when WiFi.begin() is called and remains active until the number of attempts expires (resulting in WL_CONNECT_FAILED) or a connection is established (resulting in WL_CONNECTED)<!--]--></li><li><!--[-->WL_NO_SSID_AVAIL: assigned when no SSID are available<!--]--></li><li><!--[-->WL_SCAN_COMPLETED: assigned when the scan networks is completed<!--]--></li><li><!--[-->WL_CONNECT_FAILED: assigned when the connection fails for all the attempts<!--]--></li><li><!--[-->WL_CONNECTION_LOST: assigned when the connection is lost<!--]--></li><li><!--[-->WL_DISCONNECTED: assigned when disconnected from a network<!--]--></li><li><!--[-->WL_CONNECTED: назначается при подключении к сети Wi-Fi<!--]--></li><li><!--[-->WL_NO_SHIELD: назначается, когда нет экрана Wi-Fi<!--]--></li><li><!--[-->WL_IDLE_STATUS: временное состояние, назначаемое при вызове WiFi.begin (), и остается активным до истечения количества попыток (в результате WL_CONNECT_FAILED) или до установления соединения (в результате WL_CONNECTED)<!--]--></li><li><!--[-->WL_NO_SSID_AVAIL: назначается, когда нет доступных SSID<!--]--></li><li><!--[-->WL_SCAN_COMPLETED: назначается, когда сканирование сетей завершено<!--]--></li><li><!--[-->WL_CONNECT_FAILED: назначается при сбое подключения для всех попыток<!--]--></li><li><!--[-->WL_CONNECTION_LOST: назначается при потере соединения<!--]--></li><li><!--[-->WL_DISCONNECTED: назначается при отключении от сети<!--]--></li><!--]--></ul><p><!--[-->Как только ESP32 подключен к сети, эскиз распечатывает IP-адрес, назначенный для ESP32, отображая значение WiFi.localIP () на последовательном мониторе.<!--]--></p><pre class="not-prose bg-gray-300 text-black dark:bg-gray-700 dark:text-white px-1.5 py-0.5 font-mono p-4 rounded-lg overflow-x-auto language-text">    <!--[--><code>Serial.println(&quot;&quot;);
Serial.println(&quot;WiFi connected..!&quot;);
Serial.print(&quot;Got IP: &quot;);  Serial.println(WiFi.localIP());
</code><!--]-->
  </pre><p><!--[-->Единственная разница между режимами AP и STA состоит в том, что один создает сеть, а другой присоединяется к существующей сети. Итак, остальная часть кода для обработки HTTP-запросов и обслуживания веб-страницы в режиме STA такая же, как и в режиме AP, описанном выше. Это включает:<!--]--></p><ul><!--[--><li><!--[-->Объявление выводов GPIO ESP32, к которым подключены светодиоды<!--]--></li><li><!--[-->Определение нескольких методов server.on () для обработки входящих HTTP-запросов.<!--]--></li><li><!--[-->Определение метода server.onNotFound () для обработки ошибки HTTP 404<!--]--></li><li><!--[-->Создание пользовательских функций, которые выполняются при нажатии определенного URL<!--]--></li><li><!--[-->Создание HTML-страницы<!--]--></li><li><!--[-->Стилизация веб-страницы<!--]--></li><li><!--[-->Создание кнопок и отображение их статуса<!--]--></li><!--]--></ul></div><footer class="mt-8"><div class="flex flex-wrap gap-2"><!--[--><!--[--><a href="/ru?tag=Arduino" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 transition-colors cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-primary ring ring-inset ring-primary/25 bg-primary/10 hover:bg-primary/15 active:bg-primary/15 disabled:bg-primary/10 aria-disabled:bg-primary/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Arduino</span><!--]--><!--[--><!----><!--]--><!--]--></a><!--]--><!--[--><a href="/ru?tag=ESP32" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 transition-colors cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-primary ring ring-inset ring-primary/25 bg-primary/10 hover:bg-primary/15 active:bg-primary/15 disabled:bg-primary/10 aria-disabled:bg-primary/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">ESP32</span><!--]--><!--[--><!----><!--]--><!--]--></a><!--]--><!--]--></div></footer></article></div><!--]--></div></div></div><div id="teleports"></div><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/ru/4-rozpynuvannya-esp32/_payload.json?7b75cc08-c451-4b7b-bfb6-0914ca8a3a72">[{"state":1,"once":26,"_errors":27,"serverRendered":5,"path":29,"pinia":30,"prerenderedAt":31},["Reactive",2],{"$scolor-mode":3,"$si18n:cached-locale-configs":7,"$si18n:resolved-locale":14,"$ssite-config":15},{"preference":4,"value":4,"unknown":5,"forced":6},"system",true,false,{"uk":8,"ru":10,"en":12},{"fallbacks":9,"cacheable":5},[],{"fallbacks":11,"cacheable":5},[],{"fallbacks":13,"cacheable":5},[],"ru",{"_priority":16,"currentLocale":21,"defaultLocale":22,"env":23,"name":24,"url":25},{"name":17,"env":18,"url":19,"defaultLocale":20,"currentLocale":20},-10,-15,0,-2,"ru-UA","uk-UA","production","nuxt-app","https://wire.nuxt.space",["Set"],["ShallowReactive",28],{"$Qv2-HRLKSU":-1},"/ru/4-rozpynuvannya-esp32",{},1757074884808]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{content:{wsUrl:""},mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:false,h3:false,h4:false,h5:false,h6:false}}},"nuxt-scripts":{version:"",defaultScriptOptions:{trigger:"onNuxtReady"}},i18n:{baseUrl:"wire.nuxt.space",defaultLocale:"uk",rootRedirect:"",redirectStatusCode:302,skipSettingLocaleOnNavigate:false,locales:[{name:"Українська",code:"uk",language:"uk-UA",isCatchallLocale:true,_hreflang:"uk-UA",_sitemap:"uk-UA"},{name:"Русский",code:"ru",language:"ru-UA",_hreflang:"ru-UA",_sitemap:"ru-UA"},{name:"English",code:"en",language:"en-UA",_hreflang:"en-UA",_sitemap:"en-UA"}],detectBrowserLanguage:false,experimental:{localeDetector:"",typedPages:true,typedOptionsAndMessages:false,alternateLinkCanonicalQueries:true,devCache:false,cacheLifetime:"",stripMessagesPayload:false,preload:false,strictSeo:false,nitroContextDetection:true},domainLocales:{uk:{domain:""},ru:{domain:""},en:{domain:""}}},preview:{api:"https://api.nuxt.studio",iframeMessagingAllowedOrigins:""}},app:{baseURL:"/",buildId:"7b75cc08-c451-4b7b-bfb6-0914ca8a3a72",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>