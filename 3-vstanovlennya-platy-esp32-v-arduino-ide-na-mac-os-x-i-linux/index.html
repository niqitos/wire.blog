<!DOCTYPE html><html  class="scroll-smooth"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><style id="nuxt-ui-colors">@layer base {
  :root {
  --ui-color-primary-50: var(--color-green-50, oklch(98.2% 0.018 155.826));
  --ui-color-primary-100: var(--color-green-100, oklch(96.2% 0.044 156.743));
  --ui-color-primary-200: var(--color-green-200, oklch(92.5% 0.084 155.995));
  --ui-color-primary-300: var(--color-green-300, oklch(87.1% 0.15 154.449));
  --ui-color-primary-400: var(--color-green-400, oklch(79.2% 0.209 151.711));
  --ui-color-primary-500: var(--color-green-500, oklch(72.3% 0.219 149.579));
  --ui-color-primary-600: var(--color-green-600, oklch(62.7% 0.194 149.214));
  --ui-color-primary-700: var(--color-green-700, oklch(52.7% 0.154 150.069));
  --ui-color-primary-800: var(--color-green-800, oklch(44.8% 0.119 151.328));
  --ui-color-primary-900: var(--color-green-900, oklch(39.3% 0.095 152.535));
  --ui-color-primary-950: var(--color-green-950, oklch(26.6% 0.065 152.934));
  --ui-color-secondary-50: var(--color-blue-50, oklch(97% 0.014 254.604));
  --ui-color-secondary-100: var(--color-blue-100, oklch(93.2% 0.032 255.585));
  --ui-color-secondary-200: var(--color-blue-200, oklch(88.2% 0.059 254.128));
  --ui-color-secondary-300: var(--color-blue-300, oklch(80.9% 0.105 251.813));
  --ui-color-secondary-400: var(--color-blue-400, oklch(70.7% 0.165 254.624));
  --ui-color-secondary-500: var(--color-blue-500, oklch(62.3% 0.214 259.815));
  --ui-color-secondary-600: var(--color-blue-600, oklch(54.6% 0.245 262.881));
  --ui-color-secondary-700: var(--color-blue-700, oklch(48.8% 0.243 264.376));
  --ui-color-secondary-800: var(--color-blue-800, oklch(42.4% 0.199 265.638));
  --ui-color-secondary-900: var(--color-blue-900, oklch(37.9% 0.146 265.522));
  --ui-color-secondary-950: var(--color-blue-950, oklch(28.2% 0.091 267.935));
  --ui-color-success-50: var(--color-green-50, oklch(98.2% 0.018 155.826));
  --ui-color-success-100: var(--color-green-100, oklch(96.2% 0.044 156.743));
  --ui-color-success-200: var(--color-green-200, oklch(92.5% 0.084 155.995));
  --ui-color-success-300: var(--color-green-300, oklch(87.1% 0.15 154.449));
  --ui-color-success-400: var(--color-green-400, oklch(79.2% 0.209 151.711));
  --ui-color-success-500: var(--color-green-500, oklch(72.3% 0.219 149.579));
  --ui-color-success-600: var(--color-green-600, oklch(62.7% 0.194 149.214));
  --ui-color-success-700: var(--color-green-700, oklch(52.7% 0.154 150.069));
  --ui-color-success-800: var(--color-green-800, oklch(44.8% 0.119 151.328));
  --ui-color-success-900: var(--color-green-900, oklch(39.3% 0.095 152.535));
  --ui-color-success-950: var(--color-green-950, oklch(26.6% 0.065 152.934));
  --ui-color-info-50: var(--color-blue-50, oklch(97% 0.014 254.604));
  --ui-color-info-100: var(--color-blue-100, oklch(93.2% 0.032 255.585));
  --ui-color-info-200: var(--color-blue-200, oklch(88.2% 0.059 254.128));
  --ui-color-info-300: var(--color-blue-300, oklch(80.9% 0.105 251.813));
  --ui-color-info-400: var(--color-blue-400, oklch(70.7% 0.165 254.624));
  --ui-color-info-500: var(--color-blue-500, oklch(62.3% 0.214 259.815));
  --ui-color-info-600: var(--color-blue-600, oklch(54.6% 0.245 262.881));
  --ui-color-info-700: var(--color-blue-700, oklch(48.8% 0.243 264.376));
  --ui-color-info-800: var(--color-blue-800, oklch(42.4% 0.199 265.638));
  --ui-color-info-900: var(--color-blue-900, oklch(37.9% 0.146 265.522));
  --ui-color-info-950: var(--color-blue-950, oklch(28.2% 0.091 267.935));
  --ui-color-warning-50: var(--color-yellow-50, oklch(98.7% 0.026 102.212));
  --ui-color-warning-100: var(--color-yellow-100, oklch(97.3% 0.071 103.193));
  --ui-color-warning-200: var(--color-yellow-200, oklch(94.5% 0.129 101.54));
  --ui-color-warning-300: var(--color-yellow-300, oklch(90.5% 0.182 98.111));
  --ui-color-warning-400: var(--color-yellow-400, oklch(85.2% 0.199 91.936));
  --ui-color-warning-500: var(--color-yellow-500, oklch(79.5% 0.184 86.047));
  --ui-color-warning-600: var(--color-yellow-600, oklch(68.1% 0.162 75.834));
  --ui-color-warning-700: var(--color-yellow-700, oklch(55.4% 0.135 66.442));
  --ui-color-warning-800: var(--color-yellow-800, oklch(47.6% 0.114 61.907));
  --ui-color-warning-900: var(--color-yellow-900, oklch(42.1% 0.095 57.708));
  --ui-color-warning-950: var(--color-yellow-950, oklch(28.6% 0.066 53.813));
  --ui-color-error-50: var(--color-red-50, oklch(97.1% 0.013 17.38));
  --ui-color-error-100: var(--color-red-100, oklch(93.6% 0.032 17.717));
  --ui-color-error-200: var(--color-red-200, oklch(88.5% 0.062 18.334));
  --ui-color-error-300: var(--color-red-300, oklch(80.8% 0.114 19.571));
  --ui-color-error-400: var(--color-red-400, oklch(70.4% 0.191 22.216));
  --ui-color-error-500: var(--color-red-500, oklch(63.7% 0.237 25.331));
  --ui-color-error-600: var(--color-red-600, oklch(57.7% 0.245 27.325));
  --ui-color-error-700: var(--color-red-700, oklch(50.5% 0.213 27.518));
  --ui-color-error-800: var(--color-red-800, oklch(44.4% 0.177 26.899));
  --ui-color-error-900: var(--color-red-900, oklch(39.6% 0.141 25.723));
  --ui-color-error-950: var(--color-red-950, oklch(25.8% 0.092 26.042));
  --ui-color-neutral-50: var(--color-slate-50, oklch(98.4% 0.003 247.858));
  --ui-color-neutral-100: var(--color-slate-100, oklch(96.8% 0.007 247.896));
  --ui-color-neutral-200: var(--color-slate-200, oklch(92.9% 0.013 255.508));
  --ui-color-neutral-300: var(--color-slate-300, oklch(86.9% 0.022 252.894));
  --ui-color-neutral-400: var(--color-slate-400, oklch(70.4% 0.04 256.788));
  --ui-color-neutral-500: var(--color-slate-500, oklch(55.4% 0.046 257.417));
  --ui-color-neutral-600: var(--color-slate-600, oklch(44.6% 0.043 257.281));
  --ui-color-neutral-700: var(--color-slate-700, oklch(37.2% 0.044 257.287));
  --ui-color-neutral-800: var(--color-slate-800, oklch(27.9% 0.041 260.031));
  --ui-color-neutral-900: var(--color-slate-900, oklch(20.8% 0.042 265.755));
  --ui-color-neutral-950: var(--color-slate-950, oklch(12.9% 0.042 264.695));
  }
  :root, .light {
  --ui-primary: var(--ui-color-primary-500);
  --ui-secondary: var(--ui-color-secondary-500);
  --ui-success: var(--ui-color-success-500);
  --ui-info: var(--ui-color-info-500);
  --ui-warning: var(--ui-color-warning-500);
  --ui-error: var(--ui-color-error-500);
  }
  .dark {
  --ui-primary: var(--ui-color-primary-400);
  --ui-secondary: var(--ui-color-secondary-400);
  --ui-success: var(--ui-color-success-400);
  --ui-info: var(--ui-color-info-400);
  --ui-warning: var(--ui-color-warning-400);
  --ui-error: var(--ui-color-error-400);
  }
}</style><script type="importmap">{"imports":{"#entry":"/_nuxt/OeADstIi.js"}}</script><title>Веб сервер на ESP32 в Arduino IDE</title><style>pre code .line{display:block}</style><link rel="stylesheet" href="/_nuxt/entry.CmYNULlc.css" crossorigin><style>@layer components {:where(.i-lucide\:chevron-down){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m6 9l6 6l6-6'/%3E%3C/svg%3E")}:where(.i-lucide\:copy){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cg fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='2'%3E%3Crect width='14' height='14' x='8' y='8' rx='2' ry='2'/%3E%3Cpath d='M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2'/%3E%3C/g%3E%3C/svg%3E")}:where(.i-lucide\:hash){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 9h16M4 15h16M10 3L8 21m8-18l-2 18'/%3E%3C/svg%3E")}:where(.i-lucide\:house){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cg fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='2'%3E%3Cpath d='M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8'/%3E%3Cpath d='M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z'/%3E%3C/g%3E%3C/svg%3E")}:where(.i-lucide\:languages){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m5 8l6 6m-7 0l6-6l2-3M2 5h12M7 2h1m14 20l-5-10l-5 10m2-4h6'/%3E%3C/svg%3E")}:where(.i-lucide\:menu){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 5h16M4 12h16M4 19h16'/%3E%3C/svg%3E")}:where(.i-lucide\:x){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M18 6L6 18M6 6l12 12'/%3E%3C/svg%3E")}}</style><link rel="preload" as="fetch" crossorigin="anonymous" href="/3-vstanovlennya-platy-esp32-v-arduino-ide-na-mac-os-x-i-linux/_payload.json?9ec65c4b-2e5a-4194-8855-902e9ccb4a5b"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/OeADstIi.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/COvGWkBu.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DuN1CE0x.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/LBcMSsSW.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BYNKixMt.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DPNt6JCM.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/D3tHURNB.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BBuDv2u3.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BZytUn5Q.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DlQaD8vZ.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/hCJl3MP6.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BcMqWfaD.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CTY11QiY.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DmVmpFCT.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BsvPwS4f.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DGv1d8cG.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DrWJeQq4.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/g8ary7DD.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/C29_cToH.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/C_4OeVjt.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/9ec65c4b-2e5a-4194-8855-902e9ccb4a5b.json"><link rel="prefetch" as="style" crossorigin href="/_nuxt/index.Cg9X1Qt0.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/CwzGPTXM.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/COhtmR8H.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/BmyWviBh.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/BOmmEHAR.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/DZINgRbw.js"><link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="shortcut icon" href="/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><meta name="description" content="Веб-сервер - це програма, яка приймає та обробляє запити від користувача через веб-клієнт. Веб-клієнтом може бути звичайний веб-браузер на ноутбуці або смартфоні. Зв'язок між клієнтом та сервером здійснюється за протоколом HTTP."><script type="module" src="/_nuxt/OeADstIi.js" crossorigin></script><script>"use strict";(()=>{const t=window,e=document.documentElement,c=["dark","light"],n=getStorageValue("localStorage","nuxt-color-mode")||"system";let i=n==="system"?u():n;const r=e.getAttribute("data-color-mode-forced");r&&(i=r),l(i),t["__NUXT_COLOR_MODE__"]={preference:n,value:i,getColorScheme:u,addColorScheme:l,removeColorScheme:d};function l(o){const s=""+o+"",a="";e.classList?e.classList.add(s):e.className+=" "+s,a&&e.setAttribute("data-"+a,o)}function d(o){const s=""+o+"",a="";e.classList?e.classList.remove(s):e.className=e.className.replace(new RegExp(s,"g"),""),a&&e.removeAttribute("data-"+a)}function f(o){return t.matchMedia("(prefers-color-scheme"+o+")")}function u(){if(t.matchMedia&&f("").media!=="not all"){for(const o of c)if(f(":"+o).matches)return o}return"light"}})();function getStorageValue(t,e){switch(t){case"localStorage":return window.localStorage.getItem(e);case"sessionStorage":return window.sessionStorage.getItem(e);case"cookie":return getCookie(e);default:return null}}function getCookie(t){const c=("; "+window.document.cookie).split("; "+t+"=");if(c.length===2)return c.pop()?.split(";").shift()}</script></head><body><div id="__nuxt" class="isolate"><div><header class="border-b border-gray-200 dark:border-gray-800"><div class="w-full max-w-(--ui-container) mx-auto px-4 sm:px-6 lg:px-8"><!--[--><nav class="flex items-center justify-between py-2"><a href="/" class="flex items-center gap-2" title="Logo"><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 2511 1098" class="fill-current h-8"><path d="M1669.667 998.8c-77.984 62.987-187.462 98.98-325.434 98.98-158.619 0-285.643-40.292-373.776-116.926-100.63 74.135-230.853 116.926-378.074 116.926C250.451 1097.78.001 866.826.001 548.89S250.451 0 592.383 0c341.932 0 592.381 230.954 592.381 548.89 0 11.648-.35 23.145-1 34.543v37.443c0 125.974 47.991 190.461 154.47 190.461 107.978 0 154.469-64.487 154.469-190.461V23.995h353.93v596.88c0 125.975 47.99 190.462 155.968 190.462 106.479 0 154.469-64.487 154.469-190.461V23.995H2511v607.378c0 299.94-191.962 466.407-515.898 466.407-137.972 0-245.95-35.993-325.435-98.98ZM356.93 548.89c0 163.467 104.98 262.447 235.453 262.447 130.474 0 235.453-98.98 235.453-262.447 0-163.467-104.98-262.447-235.453-262.447-130.474 0-235.453 98.98-235.453 262.447Z"></path></svg></a><ul class="hidden md:flex items-center gap-6"><!--[--><!----><!----><nav data-collapsed="false" class="relative flex gap-1.5 [&amp;&gt;div]:min-w-0 items-center justify-between w-full" aria-label="Main" data-orientation="horizontal" dir="ltr" data-reka-navigation-menu><!--[--><!--[--><!--]--><!--[--><!--[--><div style="position:relative;"><ul class="isolate min-w-0 flex items-center" data-orientation="horizontal"><!--[--><!--[--><li data-menu-item class="min-w-0 py-2"><!--[--><!--[--><a href="/" data-reka-collection-item class="group relative w-full flex items-center gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary px-2.5 py-1.5 before:inset-x-px before:inset-y-0 text-muted hover:text-highlighted transition-colors data-[state=open]:text-highlighted"><!--[--><!--[--><!--[--><!----><!--]--><span class="truncate"><!--[-->Головна<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!----><!--]--></li><li data-menu-item class="min-w-0 py-2"><!--[--><!--[--><a href="/about" data-reka-collection-item class="group relative w-full flex items-center gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary px-2.5 py-1.5 before:inset-x-px before:inset-y-0 text-muted hover:text-highlighted transition-colors data-[state=open]:text-highlighted"><!--[--><!--[--><!--[--><!----><!--]--><span class="truncate"><!--[-->Про нас<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!----><!--]--></li><!--]--><!--]--></ul></div><!----><!--]--><!--]--><!--[--><!--]--><div class="absolute top-full left-0 flex w-full justify-center"><!----><!----></div><!--]--></nav><!--]--></ul><div class="flex items-center gap-2"><div aria-busy="true" aria-label="loading" aria-live="polite" role="alert" class="animate-pulse rounded-md bg-elevated size-7 m-1"><!--[--><!--]--></div><!--[--><!--[--><!--[--><!--[--><!--[--><button type="button" id="reka-dropdown-menu-trigger-v-0-1" aria-haspopup="menu" aria-expanded="false" data-state="closed" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 transition-colors cursor-pointer px-3 py-2 text-sm gap-2 text-default hover:bg-elevated active:bg-elevated focus:outline-none focus-visible:bg-elevated hover:disabled:bg-transparent dark:hover:disabled:bg-transparent hover:aria-disabled:bg-transparent dark:hover:aria-disabled:bg-transparent"><!--[--><!--[--><span class="iconify i-lucide:languages shrink-0 size-5 !size-5" aria-hidden="true" style=""></span><!--]--><!--[--><span class="truncate">Укр</span><!--]--><!--[--><!----><!--]--><!--]--></button><!--]--><!--]--><!--[--><!----><!--v-if--><!--]--><!--]--><!--]--><!--]--><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 transition-colors cursor-pointer text-sm gap-2 text-default hover:bg-elevated active:bg-elevated focus:outline-none focus-visible:bg-elevated hover:disabled:bg-transparent dark:hover:disabled:bg-transparent hover:aria-disabled:bg-transparent dark:hover:aria-disabled:bg-transparent p-2 md:hidden"><!--[--><!--[--><span class="iconify i-lucide:x !size-5" aria-hidden="true" style="display:none;"></span><span class="iconify i-lucide:menu !size-5" aria-hidden="true" style=""></span><!--]--><!--[--><!----><!--]--><!--[--><!----><!--]--><!--]--></button><!--]--><!--]--></div></nav><!--]--></div><!----></header><div class="w-full max-w-(--ui-container) mx-auto px-4 sm:px-6 lg:px-8 py-6"><!--[--><nav aria-label="breadcrumb" class="relative min-w-0 mb-5"><ol class="flex items-center gap-1.5"><!--[--><!--[--><li class="flex min-w-0"><!--[--><a href="/" class="group relative flex items-center gap-1.5 text-sm min-w-0 focus-visible:outline-primary text-primary font-semibold"><!--[--><!--[--><!--[--><span class="iconify i-lucide:house shrink-0 size-5" aria-hidden="true" style=""></span><!--]--><span class="truncate"><!--[-->Головна<!--]--></span><!--[--><!--]--><!--]--><!--]--></a><!--]--></li><!----><!--]--><!--]--></ol></nav><div class="grid grid-cols-12 gap-8"><aside class="hidden md:block md:col-span-4 lg:col-span-3 xl:col-span-3 mt-3"><div class="sticky top-4"><p class="text-lg font-bold mb-5">Зміст</p><!--[--><!----><!----><nav data-collapsed="false" class="relative flex gap-1.5 [&amp;&gt;div]:min-w-0 flex-col" aria-label="Main" data-orientation="vertical" dir="ltr" data-reka-navigation-menu><!--[--><!--[--><!--]--><!--[--><!--[--><ul class="isolate min-w-0 space-y-4"><!--[--><!--[--><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#режимы-работы-esp32" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Режимы работы ESP32<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#режим-станции-sta" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Режим станции (STA)<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#режим-программной-точки-доступа-softap" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Режим программной точки доступа (SoftAP)<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#управление-светодиодами-с-esp32-через-веб-сервер" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Управление светодиодами с ESP32 через веб сервер<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#как-это-работает" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Как это работает<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#http-сервер-на-esp32-в-режиме-программной-точки-доступа-wifi" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->HTTP сервер на ESP32 в режиме программной точки доступа WiFi<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#доступ-к-веб-серверу-в-режиме-программной-точки-доступа" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Доступ к веб серверу в режиме программной точки доступа<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#как-устроена-программа" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Как устроена программа<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#функция-setup" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Функция Setup()<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#функция-loop" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Функция Loop()<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#отображение-веб-страницы-html" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Отображение веб-страницы HTML<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#стилизация-веб-страницы" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Стилизация веб-страницы<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#заголовок-веб-страницы" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Заголовок веб-страницы<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#отображение-кнопок-и-соответствующего-состояния" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Отображение кнопок и соответствующего состояния<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#доступ-к-веб-серверу-в-режиме-станции-sta" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Доступ к веб-серверу в режиме станции (STA)<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#доступ-к-веб-серверу-в-режиме-sta" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Доступ к веб-серверу в режиме STA<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><li data-state="closed" data-orientation="vertical" class="min-w-0"><!--[--><!--[--><!--[--><!--[--><a href="#объяснение-кода" data-reka-collection-item class="group relative w-full flex gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2 focus-visible:before:ring-primary flex-row before:inset-y-px before:inset-x-0 text-muted hover:text-highlighted hover:before:bg-elevated/50 transition-colors before:transition-colors p-0 items-start"><!--[--><!--[--><!--[--><span class="iconify i-lucide:hash shrink-0 group-hover:text-default transition-colors size-5 text-primary" aria-hidden="true" style=""></span><!--]--><span class="truncate whitespace-normal"><!--[-->Объяснение кода<!--]--><!----></span><!----><!--]--><!--]--></a><!----><!--]--><!--]--><!----><!--]--><!--]--></li><!--]--><!--]--></ul><!----><!--]--><!--]--><!--[--><!--]--><!----><!--]--></nav><!--]--></div></aside><article class="col-span-12 md:col-span-8 lg:col-span-8 xl:col-span-9 wrap-break-word"><header class="space-y-5 mb-5 prose dark:prose-invert"><h1>Веб сервер на ESP32 в Arduino IDE</h1><!----><p>Веб-сервер - це програма, яка приймає та обробляє запити від користувача через веб-клієнт. Веб-клієнтом може бути звичайний веб-браузер на ноутбуці або смартфоні. Зв&#39;язок між клієнтом та сервером здійснюється за протоколом HTTP.</p><div class="flex gap-4 items-center"><div class="inline-flex flex-row-reverse justify-end"><!----><!--[--><span class="inline-flex items-center justify-center shrink-0 select-none align-middle bg-elevated size-9 text-lg overflow-hidden relative rounded-full ring-bg first:me-0 ring-2 -me-1.5" style=""><img onerror="this.setAttribute(&#39;data-error&#39;, 1)" width="36" height="36" alt="Niqitos" data-nuxt-img srcset="/_ipx/s_36x36/images/avatars/niqitos.jpg 1x, /_ipx/s_72x72/images/avatars/niqitos.jpg 2x" role="img" class="h-full w-full rounded-[inherit] object-cover" src="/_ipx/s_36x36/images/avatars/niqitos.jpg"></span><!--]--></div><div class="text-sm"><div class="flex gap-1"><!--[--><span class="after:content-[&#39;,&#39;] last:after:content-[&#39;&#39;]">Niqitos</span><!--]--></div><div class="flex items-center gap-2 text-gray-400"><span>7 вер. 2025 р.</span><span>•</span><span>17 хвилин</span></div></div></div><div data-state="closed" class="md:hidden"><!--[--><!--[--><!--[--><button type="button" aria-controls aria-expanded="false" data-state="closed" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 transition-colors cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 w-full justify-center text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Зміст</span><!--]--><!--[--><span class="iconify i-lucide:chevron-down shrink-0 size-5 ms-auto" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><div class="data-[state=open]:animate-[collapsible-down_200ms_ease-out] data-[state=closed]:animate-[collapsible-up_200ms_ease-out] overflow-hidden mt-5" id="reka-collapsible-content-v-0-3-1" hidden data-state="closed" style="--reka-collapsible-content-height:0px;--reka-collapsible-content-width:0px;"><!--v-if--></div><!--]--></div></header><div class="prose dark:prose-invert"><p><!--[-->Клиент отправляет запрос по определенному адресу, а сервер в ответ отправляет веб-страницу или сообщение об ошибке. Например, ошибка 404 означает, что по адресу запроса ничего нет. Веб страницы — это чаще всего HTML-документы.<!--]--></p><h2 id="режимы-работы-esp32"><!--[-->Режимы работы ESP32<!--]--></h2><p><!--[-->ESP32 имеет 3 режима работы:<!--]--></p><ol><!--[--><li><!--[-->режим станции (STA)<!--]--></li><li><!--[-->режим программной точки доступа (SoftAP)<!--]--></li><li><!--[-->оба одновременно.<!--]--></li><!--]--></ol><p><!--[-->Это обеспечивает возможность построения ячеистых сетей.<!--]--></p><h2 id="режим-станции-sta"><!--[-->Режим станции (STA)<!--]--></h2><p><!--[-->В этом режиме ESP32 подключается к существующей сети WiFi, которую создает беспроводной роутер<!--]--></p><p><!--[-->В режиме STA беспроводной маршрутизатор назначает IP адрес ESP32. По этому адресу и идут обращения к веб серверу ESP32. В этом режиме к серверу могут подключатся только устройства, которые подключены к той же самой сети WiFi, что и ESP32.<!--]--></p><h2 id="режим-программной-точки-доступа-softap"><!--[-->Режим программной точки доступа (SoftAP)<!--]--></h2><p><!--[-->В этом режиме ESP32 создает свою собственную точку доступа и действует в качестве хаба, к которому можно подключить до 5 устройств по WiFi.<!--]--></p><p><!--[-->В режиме программной точки доступа ESP32 создает новую сеть WiFi с заданным названием (SSID) и адресом IP. По этому адресу к веб серверу ESP32 могут обращаться все подключенные к её сети WiFi устройства.<!--]--></p><h2 id="управление-светодиодами-с-esp32-через-веб-сервер"><!--[-->Управление светодиодами с ESP32 через веб сервер<!--]--></h2><p><!--[-->Для сборки схемы нам понадобятся:<!--]--></p><ol><!--[--><li><!--[-->ESP32<!--]--></li><li><!--[-->макетная плата<!--]--></li><li><!--[-->2 светодиода<!--]--></li><li><!--[-->2 токоограничивающих резистора на 220 Ом<!--]--></li><li><!--[-->джамперы<!--]--></li><!--]--></ol><p><!--[--><strong><!--[-->Важно!<!--]--></strong> Убедитесь, что ноги ESP32 расположены по разные стороны макетной платы.<!--]--></p><p><!--[-->Подключите анод (+) светодиодов к пинам 4 и 5 через резистор на 220 Ом, как показано на схеме ниже.<!--]--></p><p><!--[-->Подключение светодиодов к ESP32<!--]--></p><h2 id="как-это-работает"><!--[-->Как это работает<!--]--></h2><p><!--[-->Когда вы вводите URL-адрес в веб-браузере и нажимаете клавишу ВВОД, браузер отправляет HTTP-запрос, а точнее GET-запрос, на веб-сервер. В ответ на ваш запрос по данному адресу веб сервер выполнит определенную последовательность действий и вернет HTTP-ответ. Например, мы вводим URL-адрес <code class="not-prose bg-accented px-1.5 py-0.5 rounded-md text-sm"><!--[-->http://192.168.1.1/ledon<!--]--></code> в браузере. Затем браузер отправляет HTTP-запрос в ESP32 для обработки. Когда ESP32 читает этот запрос, он знает, что пользователь хочет включить светодиод. Таким образом, веб сервер включает светодиод и в ответ отправляет динамическую веб-страницу, отображающую состояние светодиода: ВКЛ.<!--]--></p><h2 id="http-сервер-на-esp32-в-режиме-программной-точки-доступа-wifi"><!--[-->HTTP сервер на ESP32 в режиме программной точки доступа WiFi<!--]--></h2><p><!--[-->Подсоедините ESP32 к компьютеру и загрузите скетч приведенный ниже. Далее я расскажу как он работает.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="sLKXg">#include</span><span class="sDhpE"> &lt;WiFi.h&gt;
</span></span><span class="line" line="2"><span class="sLKXg">#include</span><span class="sDhpE"> &lt;WebServer.h&gt;
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span class="sW2Sy">/* Название и пароль точки доступа */
</span></span><span class="line" line="5"><span class="sLKXg">const</span><span class="sLKXg"> char*</span><span class="s5ixo"> ssid </span><span class="sLKXg">=</span><span class="sDhpE"> &quot;ESP32&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="6"><span class="sLKXg">const</span><span class="sLKXg"> char*</span><span class="s5ixo"> password </span><span class="sLKXg">=</span><span class="sDhpE"> &quot;12345678&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="7"><span emptylineplaceholder="true">
</span></span><span class="line" line="8"><span class="sW2Sy">/* Детали IP адреса */
</span></span><span class="line" line="9"><span class="sC09Y">IPAddress</span><span class="sAdtL"> local_ip</span><span class="s5ixo">(</span><span class="sAGMh">192</span><span class="s5ixo">, </span><span class="sAGMh">168</span><span class="s5ixo">, </span><span class="sAGMh">1</span><span class="s5ixo">, </span><span class="sAGMh">1</span><span class="s5ixo">);
</span></span><span class="line" line="10"><span class="sC09Y">IPAddress</span><span class="sAdtL"> gateway</span><span class="s5ixo">(</span><span class="sAGMh">192</span><span class="s5ixo">, </span><span class="sAGMh">168</span><span class="s5ixo">, </span><span class="sAGMh">1</span><span class="s5ixo">, </span><span class="sAGMh">1</span><span class="s5ixo">);
</span></span><span class="line" line="11"><span class="sC09Y">IPAddress</span><span class="sAdtL"> subnet</span><span class="s5ixo">(</span><span class="sAGMh">255</span><span class="s5ixo">, </span><span class="sAGMh">255</span><span class="s5ixo">, </span><span class="sAGMh">255</span><span class="s5ixo">, </span><span class="sAGMh">0</span><span class="s5ixo">);
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span class="sW2Sy">// объявляем объект библиотеки WebServer
</span></span><span class="line" line="14"><span class="sC09Y">WebServer</span><span class="sAdtL"> server</span><span class="s5ixo">(</span><span class="sAGMh">80</span><span class="s5ixo">);
</span></span><span class="line" line="15"><span emptylineplaceholder="true">
</span></span><span class="line" line="16"><span class="sLKXg">uint8_t</span><span class="s5ixo"> LED1pin </span><span class="sLKXg">=</span><span class="sAGMh"> 4</span><span class="s5ixo">;
</span></span><span class="line" line="17"><span class="sLKXg">bool</span><span class="s5ixo"> LED1status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="18"><span emptylineplaceholder="true">
</span></span><span class="line" line="19"><span class="sLKXg">uint8_t</span><span class="s5ixo"> LED2pin </span><span class="sLKXg">=</span><span class="sAGMh"> 5</span><span class="s5ixo">;
</span></span><span class="line" line="20"><span class="sLKXg">bool</span><span class="s5ixo"> LED2status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="21"><span emptylineplaceholder="true">
</span></span><span class="line" line="22"><span class="sLKXg">void</span><span class="sAdtL"> setup</span><span class="s5ixo">() {
</span></span><span class="line" line="23"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">begin</span><span class="s5ixo">(</span><span class="sAGMh">115200</span><span class="s5ixo">);
</span></span><span class="line" line="24"><span class="sAdtL">  pinMode</span><span class="s5ixo">(LED1pin, OUTPUT);
</span></span><span class="line" line="25"><span class="sAdtL">  pinMode</span><span class="s5ixo">(LED2pin, OUTPUT);
</span></span><span class="line" line="26"><span emptylineplaceholder="true">
</span></span><span class="line" line="27"><span class="s2QsP">  WiFi</span><span class="s5ixo">.</span><span class="sAdtL">softAP</span><span class="s5ixo">(ssid, password);
</span></span><span class="line" line="28"><span class="s2QsP">  WiFi</span><span class="s5ixo">.</span><span class="sAdtL">softAPConfig</span><span class="s5ixo">(local_ip, gateway, subnet);
</span></span><span class="line" line="29"><span class="sAdtL">  delay</span><span class="s5ixo">(</span><span class="sAGMh">100</span><span class="s5ixo">);
</span></span><span class="line" line="30"><span emptylineplaceholder="true">
</span></span><span class="line" line="31"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/&quot;</span><span class="s5ixo">, handle_OnConnect);
</span></span><span class="line" line="32"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/led1on&quot;</span><span class="s5ixo">, handle_led1on);
</span></span><span class="line" line="33"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/led1off&quot;</span><span class="s5ixo">, handle_led1off);
</span></span><span class="line" line="34"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/led2on&quot;</span><span class="s5ixo">, handle_led2on);
</span></span><span class="line" line="35"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/led2off&quot;</span><span class="s5ixo">, handle_led2off);
</span></span><span class="line" line="36"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">onNotFound</span><span class="s5ixo">(handle_NotFound);
</span></span><span class="line" line="37"><span emptylineplaceholder="true">
</span></span><span class="line" line="38"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">begin</span><span class="s5ixo">();
</span></span><span class="line" line="39"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;HTTP сервер запущен&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="40"><span class="s5ixo">}
</span></span><span class="line" line="41"><span emptylineplaceholder="true">
</span></span><span class="line" line="42"><span class="sLKXg">void</span><span class="sAdtL"> loop</span><span class="s5ixo">() {
</span></span><span class="line" line="43"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">handleClient</span><span class="s5ixo">();
</span></span><span class="line" line="44"><span emptylineplaceholder="true">
</span></span><span class="line" line="45"><span class="sLKXg">  if</span><span class="s5ixo"> (LED1status) {
</span></span><span class="line" line="46"><span class="sAdtL">    digitalWrite</span><span class="s5ixo">(LED1pin, HIGH);
</span></span><span class="line" line="47"><span class="s5ixo">  } </span><span class="sLKXg">else</span><span class="s5ixo"> {
</span></span><span class="line" line="48"><span class="sAdtL">    digitalWrite</span><span class="s5ixo">(LED1pin, LOW);
</span></span><span class="line" line="49"><span class="s5ixo">  }
</span></span><span class="line" line="50"><span emptylineplaceholder="true">
</span></span><span class="line" line="51"><span class="sLKXg">  if</span><span class="s5ixo"> (LED2status) {
</span></span><span class="line" line="52"><span class="sAdtL">    digitalWrite</span><span class="s5ixo">(LED2pin, HIGH);
</span></span><span class="line" line="53"><span class="s5ixo">  } </span><span class="sLKXg">else</span><span class="s5ixo"> {
</span></span><span class="line" line="54"><span class="sAdtL">    digitalWrite</span><span class="s5ixo">(LED2pin, LOW);
</span></span><span class="line" line="55"><span class="s5ixo">  }
</span></span><span class="line" line="56"><span class="s5ixo">}
</span></span><span class="line" line="57"><span emptylineplaceholder="true">
</span></span><span class="line" line="58"><span class="sLKXg">void</span><span class="sAdtL"> handle_OnConnect</span><span class="s5ixo">() {
</span></span><span class="line" line="59"><span class="s5ixo">  LED1status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="60"><span class="s5ixo">  LED2status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="61"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;Статус GPIO4: Выкл | Статус GPIO5: Вкл&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="62"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(LED1status,LED2status));
</span></span><span class="line" line="63"><span class="s5ixo">}
</span></span><span class="line" line="64"><span emptylineplaceholder="true">
</span></span><span class="line" line="65"><span class="sLKXg">void</span><span class="sAdtL"> handle_led1on</span><span class="s5ixo">() {
</span></span><span class="line" line="66"><span class="s5ixo">  LED1status </span><span class="sLKXg">=</span><span class="s5ixo"> HIGH;
</span></span><span class="line" line="67"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;Статус GPIO4: Вкл&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="68"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(</span><span class="sAGMh">true</span><span class="s5ixo">,LED2status));
</span></span><span class="line" line="69"><span class="s5ixo">}
</span></span><span class="line" line="70"><span emptylineplaceholder="true">
</span></span><span class="line" line="71"><span class="sLKXg">void</span><span class="sAdtL"> handle_led1off</span><span class="s5ixo">() {
</span></span><span class="line" line="72"><span class="s5ixo">  LED1status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="73"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;Статус GPIO4: Выкл&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="74"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(</span><span class="sAGMh">false</span><span class="s5ixo">,LED2status));
</span></span><span class="line" line="75"><span class="s5ixo">}
</span></span><span class="line" line="76"><span emptylineplaceholder="true">
</span></span><span class="line" line="77"><span class="sLKXg">void</span><span class="sAdtL"> handle_led2on</span><span class="s5ixo">() {
</span></span><span class="line" line="78"><span class="s5ixo">  LED2status </span><span class="sLKXg">=</span><span class="s5ixo"> HIGH;
</span></span><span class="line" line="79"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;Статус GPIO5: Вкл&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="80"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(LED1status,</span><span class="sAGMh">true</span><span class="s5ixo">));
</span></span><span class="line" line="81"><span class="s5ixo">}
</span></span><span class="line" line="82"><span emptylineplaceholder="true">
</span></span><span class="line" line="83"><span class="sLKXg">void</span><span class="sAdtL"> handle_led2off</span><span class="s5ixo">() {
</span></span><span class="line" line="84"><span class="s5ixo">  LED2status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="85"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;Статус GPIO5: Выкл&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="86"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(LED1status,</span><span class="sAGMh">false</span><span class="s5ixo">));
</span></span><span class="line" line="87"><span class="s5ixo">}
</span></span><span class="line" line="88"><span emptylineplaceholder="true">
</span></span><span class="line" line="89"><span class="sLKXg">void</span><span class="sAdtL"> handle_NotFound</span><span class="s5ixo">() {
</span></span><span class="line" line="90"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">404</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/plain&quot;</span><span class="s5ixo">, </span><span class="sDhpE">&quot;Не найдено&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="91"><span class="s5ixo">}
</span></span><span class="line" line="92"><span emptylineplaceholder="true">
</span></span><span class="line" line="93"><span class="sC09Y">String</span><span class="sAdtL"> SendHTML</span><span class="s5ixo">(</span><span class="sLKXg">uint8_t</span><span class="s8iYz"> led1stat</span><span class="s5ixo">,</span><span class="sLKXg">uint8_t</span><span class="s8iYz"> led2stat</span><span class="s5ixo">) {
</span></span><span class="line" line="94"><span class="s5ixo">  String ptr </span><span class="sLKXg">=</span><span class="sDhpE"> &quot;&lt;!DOCTYPE html&gt; &lt;html&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="95"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;head&gt;&lt;meta name=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">viewport</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> content=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">width=device-width, initial-scale=1.0, user-scalable=no</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="96"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;title&gt;LED Control&lt;/title&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="97"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;style&gt;html { font-family: Helvetica; display: inline-block; margin: 0px auto; text-align: center;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="98"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;body{margin-top: 50px;} h1 {color: #444444;margin: 50px auto 30px;} h3 {color: #444444;margin-bottom: 50px;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="99"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;.button {display: block;width: 80px;background-color: #3498db;border: none;color: white;padding: 13px 30px;text-decoration: none;font-size: 25px;margin: 0px auto 35px;cursor: pointer;border-radius: 4px;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="100"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;.button-on {background-color: #3498db;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="101"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;.button-on:active {background-color: #2980b9;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="102"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;.button-off {background-color: #34495e;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="103"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;.button-off:active {background-color: #2c3e50;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="104"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;p {font-size: 14px;color: #888;margin-bottom: 10px;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="105"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;/style&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="106"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;/head&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="107"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;body&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="108"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;h1&gt;Веб сервер ESP32&lt;/h1&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="109"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;h3&gt;В режиме программной точки доступа&lt;/h3&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="110"><span emptylineplaceholder="true">
</span></span><span class="line" line="111"><span class="sLKXg">  if</span><span class="s5ixo"> (led1stat) {
</span></span><span class="line" line="112"><span class="s5ixo">    ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;p&gt;Статус LED1: Вкл&lt;/p&gt;&lt;a class=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">button button-off</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> href=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">/led1off</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;OFF&lt;/a&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="113"><span class="s5ixo">  } </span><span class="sLKXg">else</span><span class="s5ixo"> {
</span></span><span class="line" line="114"><span class="s5ixo">    ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;p&gt;Статус LED1: Выкл&lt;/p&gt;&lt;a class=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">button button-on</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> href=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">/led1on</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;ON&lt;/a&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="115"><span class="s5ixo">  }
</span></span><span class="line" line="116"><span emptylineplaceholder="true">
</span></span><span class="line" line="117"><span class="sLKXg">  if</span><span class="s5ixo"> (led2stat) {
</span></span><span class="line" line="118"><span class="s5ixo">    ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;p&gt;Статус LED2: Вкл&lt;/p&gt;&lt;a class=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">button button-off</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> href=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">/led2off</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;OFF&lt;/a&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="119"><span class="s5ixo">  } </span><span class="sLKXg">else</span><span class="s5ixo"> {
</span></span><span class="line" line="120"><span class="s5ixo">    ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;p&gt;Статус LED2: Выкл&lt;/p&gt;&lt;a class=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">button button-on</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> href=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">/led2on</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;ON&lt;/a&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="121"><span class="s5ixo">  }
</span></span><span class="line" line="122"><span emptylineplaceholder="true">
</span></span><span class="line" line="123"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;/body&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="124"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;/html&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="125"><span class="sLKXg">  return</span><span class="s5ixo"> ptr;
</span></span><span class="line" line="126"><span class="s5ixo">}
</span></span></code><!--]-->
    </pre></div><h2 id="доступ-к-веб-серверу-в-режиме-программной-точки-доступа"><!--[-->Доступ к веб серверу в режиме программной точки доступа<!--]--></h2><p><!--[-->После загрузки скетча откройте монитор серийного порта со скоростью 115200 бод. Затем нажмите кнопку RESET на ESP32. Если все в порядке, будет показано сообщение о запуске HTTP-сервера.<!--]--></p><p><!--[-->Возьмите любое устройство, которое можно подключить подключить к сети WiFi: телефон, ноутбук и т. д. Найдите сеть под названием ESP32. Присоединитесь к сети с паролем 123456789.<!--]--></p><p><!--[-->После подключения к сети ESP32 откройте браузер и в адресной строке введите 192.168.1.1. ESP32 должен отобразить веб-страницу с текущим состоянием светодиодов и две кнопки для управления ими. В то же время монитор серийного порта должен отображать состояние выводов GPIO ESP32.<!--]--></p><p><!--[-->Теперь нажмите кнопку включения LED1 и следите за URL. ESP32 получит запрос по адресу /led1on, по которому лежит функция переключения состояния первого светодиода. После этого веб-сервер возвращает веб-страницу с обновленным статусом светодиодов. Состояние выводов GPIO также изменится и в мониторе серийного порта.<!--]--></p><p><!--[-->Проверьте вторую кнопку. Все должно сработать точно также.<!--]--></p><h2 id="как-устроена-программа"><!--[-->Как устроена программа<!--]--></h2><p><!--[-->Скетч начинается с подключения библиотеки WiFi.h. Эта библиотека предоставляет специальные методы для работы с WiFi на ESP32, например, для подключения к сети. Затем подключается библиотека WebServer.h, в которой есть несколько методов для настройки сервера и обработки входящих HTTP-запросов.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="sLKXg">#include</span><span class="sDhpE"> &lt;WiFi.h&gt;
</span></span><span class="line" line="2"><span class="sLKXg">#include</span><span class="sDhpE"> &lt;WebServer.h&gt;
</span></span></code><!--]-->
    </pre></div><p><!--[-->Так как мы используем ESP32 в режиме программной точки доступа, необходимо создать сеть WiFi. Для этого нужно указать SSID, Пароль, IP адрес, IP маску подсети и IP шлюз.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="sW2Sy">/* Название и пароль точки доступа */
</span></span><span class="line" line="2"><span class="sLKXg">const</span><span class="sLKXg"> char*</span><span class="s5ixo"> ssid </span><span class="sLKXg">=</span><span class="sDhpE"> &quot;ESP32&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="3"><span class="sLKXg">const</span><span class="sLKXg"> char*</span><span class="s5ixo"> password </span><span class="sLKXg">=</span><span class="sDhpE"> &quot;12345678&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span class="sW2Sy">/* Детали IP адреса */
</span></span><span class="line" line="6"><span class="sC09Y">IPAddress</span><span class="sAdtL"> local_ip</span><span class="s5ixo">(</span><span class="sAGMh">192</span><span class="s5ixo">, </span><span class="sAGMh">168</span><span class="s5ixo">, </span><span class="sAGMh">1</span><span class="s5ixo">, </span><span class="sAGMh">1</span><span class="s5ixo">);
</span></span><span class="line" line="7"><span class="sC09Y">IPAddress</span><span class="sAdtL"> gateway</span><span class="s5ixo">(</span><span class="sAGMh">192</span><span class="s5ixo">, </span><span class="sAGMh">168</span><span class="s5ixo">, </span><span class="sAGMh">1</span><span class="s5ixo">, </span><span class="sAGMh">1</span><span class="s5ixo">);
</span></span><span class="line" line="8"><span class="sC09Y">IPAddress</span><span class="sAdtL"> subnet</span><span class="s5ixo">(</span><span class="sAGMh">255</span><span class="s5ixo">, </span><span class="sAGMh">255</span><span class="s5ixo">, </span><span class="sAGMh">255</span><span class="s5ixo">, </span><span class="sAGMh">0</span><span class="s5ixo">);
</span></span></code><!--]-->
    </pre></div><p><!--[-->Далее объявляем объект библиотеки WebServer, чтобы получить доступ к ее функциям. Конструктор этого объекта принимает порт в качестве параметра. Портом по умолчанию для HTTP протокола — 80. Теперь подключится к серверу можно без указания порта в URL.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="sW2Sy">// объявляем объект библиотеки WebServer
</span></span><span class="line" line="2"><span class="sC09Y">WebServer</span><span class="sAdtL"> server</span><span class="s5ixo">(</span><span class="sAGMh">80</span><span class="s5ixo">);
</span></span></code><!--]-->
    </pre></div><p><!--[-->Далее объявляем выводы GPIO ESP32, к которым подключены светодиоды, и их начальное состояние.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="sLKXg">uint8_t</span><span class="s5ixo"> LED1pin </span><span class="sLKXg">=</span><span class="sAGMh"> 4</span><span class="s5ixo">;
</span></span><span class="line" line="2"><span class="sLKXg">bool</span><span class="s5ixo"> LED1status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span class="sLKXg">uint8_t</span><span class="s5ixo"> LED2pin </span><span class="sLKXg">=</span><span class="sAGMh"> 5</span><span class="s5ixo">;
</span></span><span class="line" line="5"><span class="sLKXg">bool</span><span class="s5ixo"> LED2status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span></code><!--]-->
    </pre></div><h2 id="функция-setup"><!--[-->Функция Setup()<!--]--></h2><p><!--[-->Перед запуском HTTP-сервера нужно его настроить.<!--]--></p><p><!--[-->Откроем монитор серийного порта для отладки и установим режим роботы портов GPIO в OUTPUT.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="s2QsP">Serial</span><span class="s5ixo">.</span><span class="sAdtL">begin</span><span class="s5ixo">(</span><span class="sAGMh">115200</span><span class="s5ixo">);
</span></span><span class="line" line="2"><span class="sAdtL">pinMode</span><span class="s5ixo">(LED1pin, OUTPUT);
</span></span><span class="line" line="3"><span class="sAdtL">pinMode</span><span class="s5ixo">(LED2pin, OUTPUT);
</span></span></code><!--]-->
    </pre></div><p><!--[-->Затем указываем SSID, пароль, IP-адрес, IP-маску подсети и IP-шлюз для создания сети Wi-Fi точки доступа.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="s2QsP">WiFi</span><span class="s5ixo">.</span><span class="sAdtL">softAP</span><span class="s5ixo">(ssid, password);
</span></span><span class="line" line="2"><span class="s2QsP">WiFi</span><span class="s5ixo">.</span><span class="sAdtL">softAPConfig</span><span class="s5ixo">(local_ip, gateway, subnet);
</span></span><span class="line" line="3"><span class="sAdtL">delay</span><span class="s5ixo">(</span><span class="sAGMh">100</span><span class="s5ixo">);
</span></span></code><!--]-->
    </pre></div><p><!--[-->Чтобы обрабатывать входящие HTTP-запросы, нам нужно указать, какой код выполнять при запросе по определенному URL. Для этого мы используем метод on объекта server. Этот метод принимает два параметра: URL-адрес запроса и имя функции, которую мы хотим выполнить при запросе по этому URL.<!--]--></p><p><!--[-->For example, the first line of below code snippet indicates that when a server receives an HTTP request on the root (/) path, it will trigger the handle_OnConnect() function. Note that the URL specified is a relative path.<!--]--></p><p><!--[-->Например, первая строка приведенного ниже фрагмента кода указывает, что когда сервер получает HTTP-запрос по корневому пути (/), он запускает функцию handle_OnConnect(). Обратите внимание, что указанный URL-адрес является относительным путем.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="s2QsP">server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/&quot;</span><span class="s5ixo">, handle_OnConnect);
</span></span></code><!--]-->
    </pre></div><p><!--[-->Аналогично, нам нужно указать еще 4 URL-адреса для обработки двух состояний двух светодиодов.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="s2QsP">server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/led1on&quot;</span><span class="s5ixo">, handle_led1on);
</span></span><span class="line" line="2"><span class="s2QsP">server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/led1off&quot;</span><span class="s5ixo">, handle_led1off);
</span></span><span class="line" line="3"><span class="s2QsP">server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/led2on&quot;</span><span class="s5ixo">, handle_led2on);
</span></span><span class="line" line="4"><span class="s2QsP">server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/led2off&quot;</span><span class="s5ixo">, handle_led2off);
</span></span></code><!--]-->
    </pre></div><p><!--[-->Если клиент запрашивает какой-либо URL, отличный от указанных в server.on(), сервер должен ответить с HTTP-статусом 404 (Not Found) и сообщением для пользователя. Для этого используем метод onNotFound() объекта server.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="s2QsP">server</span><span class="s5ixo">.</span><span class="sAdtL">onNotFound</span><span class="s5ixo">(handle_NotFound);
</span></span></code><!--]-->
    </pre></div><p><!--[-->Затем запускаем сервер вызвав метод begin() объекта server.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="s2QsP">server</span><span class="s5ixo">.</span><span class="sAdtL">begin</span><span class="s5ixo">();
</span></span><span class="line" line="2"><span class="s2QsP">Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;HTTP server started&quot;</span><span class="s5ixo">);
</span></span></code><!--]-->
    </pre></div><h2 id="функция-loop"><!--[-->Функция Loop()<!--]--></h2><p><!--[-->Для обработки входящих HTTP-запросов используется метод handleClient() объекта server. После получения запроса проверяем изменение состояния светодиодов.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="sLKXg">void</span><span class="sAdtL"> loop</span><span class="s5ixo">() {
</span></span><span class="line" line="2"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">handleClient</span><span class="s5ixo">();
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span class="sLKXg">  if</span><span class="s5ixo"> (LED1status) {
</span></span><span class="line" line="5"><span class="sAdtL">    digitalWrite</span><span class="s5ixo">(LED1pin, HIGH);
</span></span><span class="line" line="6"><span class="s5ixo">  } </span><span class="sLKXg">else</span><span class="s5ixo"> {
</span></span><span class="line" line="7"><span class="sAdtL">    digitalWrite</span><span class="s5ixo">(LED1pin, LOW);
</span></span><span class="line" line="8"><span class="s5ixo">  }
</span></span><span class="line" line="9"><span emptylineplaceholder="true">
</span></span><span class="line" line="10"><span class="sLKXg">  if</span><span class="s5ixo"> (LED2status) {
</span></span><span class="line" line="11"><span class="sAdtL">    digitalWrite</span><span class="s5ixo">(LED2pin, HIGH);
</span></span><span class="line" line="12"><span class="s5ixo">  } </span><span class="sLKXg">else</span><span class="s5ixo"> {
</span></span><span class="line" line="13"><span class="sAdtL">    digitalWrite</span><span class="s5ixo">(LED2pin, LOW);
</span></span><span class="line" line="14"><span class="s5ixo">  }
</span></span><span class="line" line="15"><span class="s5ixo">}
</span></span></code><!--]-->
    </pre></div><p><!--[-->Далее создаем функцию handle_OnConnect(), которую мы привязали к корневому URL <code class="not-prose bg-accented px-1.5 py-0.5 rounded-md text-sm"><!--[-->/<!--]--></code> с помощью <code class="not-prose bg-accented px-1.5 py-0.5 rounded-md text-sm"><!--[-->server.on<!--]--></code>. В начале этой функции установим изначальное состояние обоих светодиодов как LOW (выключены) и выведем состояние в монитор серийного порта. Чтобы ответить на HTTP-запрос, используется метод send(), которому передается код HTTP-ответа, тип контента и сам контент.<!--]--></p><p><!--[-->В нашем случае мы отправляем код 200 (один из кодов состояния HTTP), который соответствует ответу OK. Затем указываем тип содержимого «text/html» и вызываем пользовательскую функцию SendHTML(), которая создает динамическую HTML-страницу, и передаем ей состояние светодиодов в качестве параметров.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="sLKXg">void</span><span class="sAdtL"> handle_OnConnect</span><span class="s5ixo">() {
</span></span><span class="line" line="2"><span class="s5ixo">  LED1status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="3"><span class="s5ixo">  LED2status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="4"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;GPIO4 Status: OFF | GPIO5 Status: OFF&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="5"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(LED1status,LED2status));
</span></span><span class="line" line="6"><span class="s5ixo">}
</span></span></code><!--]-->
    </pre></div><p><!--[-->Аналогично, создаем четыре функции для обработки запросов на включение/выключение светодиодов, а так же страницу ошибки 404.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="sLKXg">void</span><span class="sAdtL"> handle_led1on</span><span class="s5ixo">() {
</span></span><span class="line" line="2"><span class="s5ixo">  LED1status </span><span class="sLKXg">=</span><span class="s5ixo"> HIGH;
</span></span><span class="line" line="3"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;GPIO4 Status: ON&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="4"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(</span><span class="sAGMh">true</span><span class="s5ixo">,LED2status));
</span></span><span class="line" line="5"><span class="s5ixo">}
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span class="sLKXg">void</span><span class="sAdtL"> handle_led1off</span><span class="s5ixo">() {
</span></span><span class="line" line="8"><span class="s5ixo">  LED1status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="9"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;GPIO4 Status: OFF&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="10"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(</span><span class="sAGMh">false</span><span class="s5ixo">,LED2status));
</span></span><span class="line" line="11"><span class="s5ixo">}
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span class="sLKXg">void</span><span class="sAdtL"> handle_led2on</span><span class="s5ixo">() {
</span></span><span class="line" line="14"><span class="s5ixo">  LED2status </span><span class="sLKXg">=</span><span class="s5ixo"> HIGH;
</span></span><span class="line" line="15"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;GPIO5 Status: ON&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="16"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(LED1status,</span><span class="sAGMh">true</span><span class="s5ixo">));
</span></span><span class="line" line="17"><span class="s5ixo">}
</span></span><span class="line" line="18"><span emptylineplaceholder="true">
</span></span><span class="line" line="19"><span class="sLKXg">void</span><span class="sAdtL"> handle_led2off</span><span class="s5ixo">() {
</span></span><span class="line" line="20"><span class="s5ixo">  LED2status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="21"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;GPIO5 Status: OFF&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="22"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(LED1status,</span><span class="sAGMh">false</span><span class="s5ixo">));
</span></span><span class="line" line="23"><span class="s5ixo">}
</span></span><span class="line" line="24"><span emptylineplaceholder="true">
</span></span><span class="line" line="25"><span class="sLKXg">void</span><span class="sAdtL"> handle_NotFound</span><span class="s5ixo">() {
</span></span><span class="line" line="26"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">404</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/plain&quot;</span><span class="s5ixo">, </span><span class="sDhpE">&quot;Not found&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="27"><span class="s5ixo">}
</span></span></code><!--]-->
    </pre></div><h2 id="отображение-веб-страницы-html"><!--[-->Отображение веб-страницы HTML<!--]--></h2><p><!--[-->Функция <code class="not-prose bg-accented px-1.5 py-0.5 rounded-md text-sm"><!--[-->SendHTML()<!--]--></code> генерирует веб-страницу всякий раз, когда веб-сервер ESP32 получает запрос от веб-клиента. Эта функция просто объединяет HTML-код в большую строку и возвращает его в функцию <code class="not-prose bg-accented px-1.5 py-0.5 rounded-md text-sm"><!--[-->server.send()<!--]--></code>, о которой мы говорили ранее. Функция принимает состояние светодиодов в качестве параметров для динамической генерации HTML-страницы.<!--]--></p><p><!--[-->Вначале HTML документа всегда должен стоять — элемент который указывает, что мы отправляем HTML-код.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="sC09Y">String</span><span class="sAdtL"> SendHTML</span><span class="s5ixo">(</span><span class="sLKXg">uint8_t</span><span class="s8iYz"> led1stat</span><span class="s5ixo">,</span><span class="sLKXg">uint8_t</span><span class="s8iYz"> led2stat</span><span class="s5ixo">) {
</span></span><span class="line" line="2"><span class="s5ixo">String ptr </span><span class="sLKXg">=</span><span class="sDhpE"> &quot;&lt;!DOCTYPE html&gt; &lt;html&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span></code><!--]-->
    </pre></div><p><!--[-->Элемент <code class="not-prose bg-accented px-1.5 py-0.5 rounded-md text-sm"><!--[-->viewport<!--]--></code> делает веб-страницу отзывчивой в любом веб-браузере.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="s5ixo">ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;head&gt;&lt;meta name=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">viewport</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> content=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">width=device-width, initial-scale=1.0, user-scalable=no</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span></code><!--]-->
    </pre></div><p><!--[-->Тег<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="s5ixo">ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;title&gt;LED Control&lt;/title&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span></code><!--]-->
    </pre></div><h2 id="стилизация-веб-страницы"><!--[-->Стилизация веб-страницы<!--]--></h2><p><!--[-->Добавим CSS для стилизации кнопок и внешнего вида веб-страницы. Шрифт Helvetica, отображение содержимого в виде встроенного блока и выровняем по центру.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="s5ixo">ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;style&gt;html { font-family: Helvetica; display: inline-block; margin: 0px auto; text-align: center;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span></code><!--]-->
    </pre></div><p><!--[-->Далее задаем цвет, размер шрифт и отступы для тегов <code class="not-prose bg-accented px-1.5 py-0.5 rounded-md text-sm"><!--[-->body<!--]--></code>, <code class="not-prose bg-accented px-1.5 py-0.5 rounded-md text-sm"><!--[-->h1<!--]--></code>, <code class="not-prose bg-accented px-1.5 py-0.5 rounded-md text-sm"><!--[-->h3<!--]--></code> и <code class="not-prose bg-accented px-1.5 py-0.5 rounded-md text-sm"><!--[-->p<!--]--></code>.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="s5ixo">ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;body{margin-top: 50px;} h1 {color: #444444;margin: 50px auto 30px;} h3 {color: #444444;margin-bottom: 50px;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="2"><span class="s5ixo">ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;p {font-size: 14px;color: #888;margin-bottom: 10px;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span></code><!--]-->
    </pre></div><p><!--[-->Стилизуем цвет, размер, отступы и границы кнопок. Кнопки ВКЛ и ВЫКЛ должны быть разного цвета, а селектор <Active></Active> создаст эффект нажатия.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="s5ixo">ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;.button {display: block;width: 80px;background-color: #3498db;border: none;color: white;padding: 13px 30px;text-decoration: none;font-size: 25px;margin: 0px auto 35px;cursor: pointer;border-radius: 4px;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="2"><span class="s5ixo">ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;.button-on {background-color: #3498db;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="3"><span class="s5ixo">ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;.button-on:active {background-color: #2980b9;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="4"><span class="s5ixo">ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;.button-off {background-color: #34495e;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="5"><span class="s5ixo">ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;.button-off:active {background-color: #2c3e50;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span></code><!--]-->
    </pre></div><h2 id="заголовок-веб-страницы"><!--[-->Заголовок веб-страницы<!--]--></h2><p><!--[-->Далее выведем заголовок веб-страницы. Вы можете изменить этот текст под вашего приложение.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="s5ixo">ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;h1&gt;ESP32 Web Server&lt;/h1&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="2"><span class="s5ixo">ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;h3&gt;Using Access Point(AP) Mode&lt;/h3&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span></code><!--]-->
    </pre></div><h2 id="отображение-кнопок-и-соответствующего-состояния"><!--[-->Отображение кнопок и соответствующего состояния<!--]--></h2><p><!--[-->Для динамического отображения кнопок и состояния светодиодов мы используем оператор <code class="not-prose bg-accented px-1.5 py-0.5 rounded-md text-sm"><!--[-->if<!--]--></code>. Таким образом, в зависимости от состояния выводов GPIO, отображается кнопка Вкл/Выкл.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="sLKXg">if</span><span class="s5ixo"> (led1stat) {
</span></span><span class="line" line="2"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;p&gt;Статус светодиода 1: Вкл&lt;/p&gt;&lt;a class=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">button button-off</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> href=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">/led1off</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;Выкл&lt;/a&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="3"><span class="s5ixo">} </span><span class="sLKXg">else</span><span class="s5ixo"> {
</span></span><span class="line" line="4"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;p&gt;Статус светодиода 1: Выкл&lt;/p&gt;&lt;a class=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">button button-on</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> href=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">/led1on</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;Вкл&lt;/a&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="5"><span class="s5ixo">}
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span class="sLKXg">if</span><span class="s5ixo"> (led2stat) {
</span></span><span class="line" line="8"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;p&gt;Статус светодиода 2: Вкл&lt;/p&gt;&lt;a class=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">button button-off</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> href=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">/led2off</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;Выкл&lt;/a&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="9"><span class="s5ixo">} </span><span class="sLKXg">else</span><span class="s5ixo"> {
</span></span><span class="line" line="10"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;p&gt;Статус светодиода 2: Выкл&lt;/p&gt;&lt;a class=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">button button-on</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> href=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">/led2on</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;Вкл&lt;/a&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="11"><span class="s5ixo">}
</span></span></code><!--]-->
    </pre></div><h2 id="доступ-к-веб-серверу-в-режиме-станции-sta"><!--[-->Доступ к веб-серверу в режиме станции (STA)<!--]--></h2><p><!--[-->Теперь давайте перейдем к нашему следующему примеру, который демонстрирует, как переключить ESP32 в режим Station (STA) и обслуживать веб-страницы для любого подключенного клиента в существующей сети.<!--]--></p><p><!--[-->Прежде чем приступить к загрузке скетча, необходимо внести некоторые изменения. Вам необходимо изменить следующие две переменные с вашими сетевыми учетными данными, чтобы ESP32 мог установить соединение с существующей сетью.<!--]--></p><p><!--[-->Как только вы закончите, попробуйте набросок.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="sLKXg">#include</span><span class="sDhpE"> &lt;WiFi.h&gt;
</span></span><span class="line" line="2"><span class="sLKXg">#include</span><span class="sDhpE"> &lt;WebServer.h&gt;
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span class="sW2Sy">/*Put your SSID &amp; Password*/
</span></span><span class="line" line="5"><span class="sLKXg">const</span><span class="sLKXg"> char*</span><span class="s5ixo"> ssid </span><span class="sLKXg">=</span><span class="sDhpE"> &quot; YourNetworkName&quot;</span><span class="s5ixo">;</span><span class="sW2Sy">  // Enter SSID here
</span></span><span class="line" line="6"><span class="sLKXg">const</span><span class="sLKXg"> char*</span><span class="s5ixo"> password </span><span class="sLKXg">=</span><span class="sDhpE"> &quot; YourPassword&quot;</span><span class="s5ixo">;</span><span class="sW2Sy">  //Enter Password here
</span></span><span class="line" line="7"><span emptylineplaceholder="true">
</span></span><span class="line" line="8"><span class="sC09Y">WebServer</span><span class="sAdtL"> server</span><span class="s5ixo">(</span><span class="sAGMh">80</span><span class="s5ixo">);
</span></span><span class="line" line="9"><span emptylineplaceholder="true">
</span></span><span class="line" line="10"><span class="sLKXg">uint8_t</span><span class="s5ixo"> LED1pin </span><span class="sLKXg">=</span><span class="sAGMh"> 4</span><span class="s5ixo">;
</span></span><span class="line" line="11"><span class="sLKXg">bool</span><span class="s5ixo"> LED1status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span class="sLKXg">uint8_t</span><span class="s5ixo"> LED2pin </span><span class="sLKXg">=</span><span class="sAGMh"> 5</span><span class="s5ixo">;
</span></span><span class="line" line="14"><span class="sLKXg">bool</span><span class="s5ixo"> LED2status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="15"><span emptylineplaceholder="true">
</span></span><span class="line" line="16"><span class="sLKXg">void</span><span class="sAdtL"> setup</span><span class="s5ixo">() {
</span></span><span class="line" line="17"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">begin</span><span class="s5ixo">(</span><span class="sAGMh">115200</span><span class="s5ixo">);
</span></span><span class="line" line="18"><span class="sAdtL">  delay</span><span class="s5ixo">(</span><span class="sAGMh">100</span><span class="s5ixo">);
</span></span><span class="line" line="19"><span class="sAdtL">  pinMode</span><span class="s5ixo">(LED1pin, OUTPUT);
</span></span><span class="line" line="20"><span class="sAdtL">  pinMode</span><span class="s5ixo">(LED2pin, OUTPUT);
</span></span><span class="line" line="21"><span emptylineplaceholder="true">
</span></span><span class="line" line="22"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;Connecting to &quot;</span><span class="s5ixo">);
</span></span><span class="line" line="23"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(ssid);
</span></span><span class="line" line="24"><span emptylineplaceholder="true">
</span></span><span class="line" line="25"><span class="sW2Sy">  //connect to your local wi-fi network
</span></span><span class="line" line="26"><span class="s2QsP">  WiFi</span><span class="s5ixo">.</span><span class="sAdtL">begin</span><span class="s5ixo">(ssid, password);
</span></span><span class="line" line="27"><span emptylineplaceholder="true">
</span></span><span class="line" line="28"><span class="sW2Sy">  //check wi-fi is connected to wi-fi network
</span></span><span class="line" line="29"><span class="sLKXg">  while</span><span class="s5ixo"> (</span><span class="s2QsP">WiFi</span><span class="s5ixo">.</span><span class="sAdtL">status</span><span class="s5ixo">() </span><span class="sLKXg">!=</span><span class="s5ixo"> WL_CONNECTED) {
</span></span><span class="line" line="30"><span class="sAdtL">    delay</span><span class="s5ixo">(</span><span class="sAGMh">1000</span><span class="s5ixo">);
</span></span><span class="line" line="31"><span class="s2QsP">    Serial</span><span class="s5ixo">.</span><span class="sAdtL">print</span><span class="s5ixo">(</span><span class="sDhpE">&quot;.&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="32"><span class="s5ixo">  }
</span></span><span class="line" line="33"><span emptylineplaceholder="true">
</span></span><span class="line" line="34"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="35"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;WiFi connected..!&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="36"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">print</span><span class="s5ixo">(</span><span class="sDhpE">&quot;Got IP: &quot;</span><span class="s5ixo">);  </span><span class="s2QsP">Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="s2QsP">WiFi</span><span class="s5ixo">.</span><span class="sAdtL">localIP</span><span class="s5ixo">());
</span></span><span class="line" line="37"><span emptylineplaceholder="true">
</span></span><span class="line" line="38"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/&quot;</span><span class="s5ixo">, handle_OnConnect);
</span></span><span class="line" line="39"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/led1on&quot;</span><span class="s5ixo">, handle_led1on);
</span></span><span class="line" line="40"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/led1off&quot;</span><span class="s5ixo">, handle_led1off);
</span></span><span class="line" line="41"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/led2on&quot;</span><span class="s5ixo">, handle_led2on);
</span></span><span class="line" line="42"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">on</span><span class="s5ixo">(</span><span class="sDhpE">&quot;/led2off&quot;</span><span class="s5ixo">, handle_led2off);
</span></span><span class="line" line="43"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">onNotFound</span><span class="s5ixo">(handle_NotFound);
</span></span><span class="line" line="44"><span emptylineplaceholder="true">
</span></span><span class="line" line="45"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">begin</span><span class="s5ixo">();
</span></span><span class="line" line="46"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;HTTP server started&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="47"><span class="s5ixo">}
</span></span><span class="line" line="48"><span emptylineplaceholder="true">
</span></span><span class="line" line="49"><span class="sLKXg">void</span><span class="sAdtL"> loop</span><span class="s5ixo">() {
</span></span><span class="line" line="50"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">handleClient</span><span class="s5ixo">();
</span></span><span class="line" line="51"><span emptylineplaceholder="true">
</span></span><span class="line" line="52"><span class="sLKXg">  if</span><span class="s5ixo"> (LED1status) {
</span></span><span class="line" line="53"><span class="sAdtL">    digitalWrite</span><span class="s5ixo">(LED1pin, HIGH);
</span></span><span class="line" line="54"><span class="s5ixo">  } </span><span class="sLKXg">else</span><span class="s5ixo"> {
</span></span><span class="line" line="55"><span class="sAdtL">    digitalWrite</span><span class="s5ixo">(LED1pin, LOW);
</span></span><span class="line" line="56"><span class="s5ixo">  }
</span></span><span class="line" line="57"><span emptylineplaceholder="true">
</span></span><span class="line" line="58"><span class="sLKXg">  if</span><span class="s5ixo"> (LED2status) {
</span></span><span class="line" line="59"><span class="sAdtL">    digitalWrite</span><span class="s5ixo">(LED2pin, HIGH);
</span></span><span class="line" line="60"><span class="s5ixo">  } </span><span class="sLKXg">else</span><span class="s5ixo"> {
</span></span><span class="line" line="61"><span class="sAdtL">    digitalWrite</span><span class="s5ixo">(LED2pin, LOW);
</span></span><span class="line" line="62"><span class="s5ixo">  }
</span></span><span class="line" line="63"><span class="s5ixo">}
</span></span><span class="line" line="64"><span emptylineplaceholder="true">
</span></span><span class="line" line="65"><span class="sLKXg">void</span><span class="sAdtL"> handle_OnConnect</span><span class="s5ixo"> () {
</span></span><span class="line" line="66"><span class="s5ixo">  LED1status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="67"><span class="s5ixo">  LED2status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="68"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;GPIO4 Status: OFF | GPIO5 Status: OFF&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="69"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(LED1status,LED2status));
</span></span><span class="line" line="70"><span class="s5ixo">}
</span></span><span class="line" line="71"><span emptylineplaceholder="true">
</span></span><span class="line" line="72"><span class="sLKXg">void</span><span class="sAdtL"> handle_led1on</span><span class="s5ixo"> () {
</span></span><span class="line" line="73"><span class="s5ixo">  LED1status </span><span class="sLKXg">=</span><span class="s5ixo"> HIGH;
</span></span><span class="line" line="74"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;GPIO4 Status: ON&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="75"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(</span><span class="sAGMh">true</span><span class="s5ixo">,LED2status));
</span></span><span class="line" line="76"><span class="s5ixo">}
</span></span><span class="line" line="77"><span emptylineplaceholder="true">
</span></span><span class="line" line="78"><span class="sLKXg">void</span><span class="sAdtL"> handle_led1off</span><span class="s5ixo"> () {
</span></span><span class="line" line="79"><span class="s5ixo">  LED1status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="80"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;GPIO4 Status: OFF&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="81"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(</span><span class="sAGMh">false</span><span class="s5ixo">,LED2status));
</span></span><span class="line" line="82"><span class="s5ixo">}
</span></span><span class="line" line="83"><span emptylineplaceholder="true">
</span></span><span class="line" line="84"><span class="sLKXg">void</span><span class="sAdtL"> handle_led2on</span><span class="s5ixo"> () {
</span></span><span class="line" line="85"><span class="s5ixo">  LED2status </span><span class="sLKXg">=</span><span class="s5ixo"> HIGH;
</span></span><span class="line" line="86"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;GPIO5 Status: ON&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="87"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(LED1status,</span><span class="sAGMh">true</span><span class="s5ixo">));
</span></span><span class="line" line="88"><span class="s5ixo">}
</span></span><span class="line" line="89"><span emptylineplaceholder="true">
</span></span><span class="line" line="90"><span class="sLKXg">void</span><span class="sAdtL"> handle_led2off</span><span class="s5ixo"> () {
</span></span><span class="line" line="91"><span class="s5ixo">  LED2status </span><span class="sLKXg">=</span><span class="s5ixo"> LOW;
</span></span><span class="line" line="92"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;GPIO5 Status: OFF&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="93"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">200</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/html&quot;</span><span class="s5ixo">, </span><span class="sAdtL">SendHTML</span><span class="s5ixo">(LED1status,</span><span class="sAGMh">false</span><span class="s5ixo">));
</span></span><span class="line" line="94"><span class="s5ixo">}
</span></span><span class="line" line="95"><span emptylineplaceholder="true">
</span></span><span class="line" line="96"><span class="sLKXg">void</span><span class="sAdtL"> handle_NotFound</span><span class="s5ixo"> () {
</span></span><span class="line" line="97"><span class="s2QsP">  server</span><span class="s5ixo">.</span><span class="sAdtL">send</span><span class="s5ixo">(</span><span class="sAGMh">404</span><span class="s5ixo">, </span><span class="sDhpE">&quot;text/plain&quot;</span><span class="s5ixo">, </span><span class="sDhpE">&quot;Not found&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="98"><span class="s5ixo">}
</span></span><span class="line" line="99"><span emptylineplaceholder="true">
</span></span><span class="line" line="100"><span class="sC09Y">String</span><span class="sAdtL"> SendHTML</span><span class="s5ixo"> (</span><span class="sLKXg">uint8_t</span><span class="s8iYz"> led1stat</span><span class="s5ixo">,</span><span class="sLKXg">uint8_t</span><span class="s8iYz"> led2stat</span><span class="s5ixo">) {
</span></span><span class="line" line="101"><span class="s5ixo">  String ptr </span><span class="sLKXg">=</span><span class="sDhpE"> &quot;&lt;!DOCTYPE html&gt; &lt;html&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="102"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;head&gt;&lt;meta name=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">viewport</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> content=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">width=device-width, initial-scale=1.0, user-scalable=no</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="103"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;title&gt;LED Control&lt;/title&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="104"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;style&gt;html { font-family: Helvetica; display: inline-block; margin: 0px auto; text-align: center;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="105"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;body{margin-top: 50px;} h1 {color: #444444;margin: 50px auto 30px;} h3 {color: #444444;margin-bottom: 50px;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="106"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;.button {display: block;width: 80px;background-color: #3498db;border: none;color: white;padding: 13px 30px;text-decoration: none;font-size: 25px;margin: 0px auto 35px;cursor: pointer;border-radius: 4px;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="107"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot; .button-on {background-color: #3498db;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="108"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;.button-on:active {background-color: #2980b9;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="109"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;.button-off {background-color: #34495e;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="110"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;.button-off:active {background-color: #2c3e50;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="111"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;p {font-size: 14px;color: #888;margin-bottom: 10px;}</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="112"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;/style&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="113"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;/head&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="114"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;body&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="115"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;h1&gt;ESP32 Web Server&lt;/h1&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="116"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;h3&gt;Using Station(STA) Mode&lt;/h3&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="117"><span emptylineplaceholder="true">
</span></span><span class="line" line="118"><span class="sLKXg">  if</span><span class="s5ixo"> (led1stat) {
</span></span><span class="line" line="119"><span class="s5ixo">    ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;p&gt;LED1 Status: ON&lt;/p&gt;&lt;a class=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">button button-off</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> href=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">/led1off</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;OFF&lt;/a&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="120"><span class="s5ixo">  } </span><span class="sLKXg">else</span><span class="s5ixo"> {
</span></span><span class="line" line="121"><span class="s5ixo">    ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;p&gt;LED1 Status: OFF&lt;/p&gt;&lt;a class=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">button button-on</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> href=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">/led1on</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;ON&lt;/a&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="122"><span class="s5ixo">  }
</span></span><span class="line" line="123"><span emptylineplaceholder="true">
</span></span><span class="line" line="124"><span class="sLKXg">  if</span><span class="s5ixo"> (led2stat) {
</span></span><span class="line" line="125"><span class="s5ixo">    ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;p&gt;LED2 Status: ON&lt;/p&gt;&lt;a class=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">button button-off</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> href=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">/led2off</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;OFF&lt;/a&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="126"><span class="s5ixo">  } </span><span class="sLKXg">else</span><span class="s5ixo"> {
</span></span><span class="line" line="127"><span class="s5ixo">    ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;p&gt;LED2 Status: OFF&lt;/p&gt;&lt;a class=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">button button-on</span><span class="s_Sar">\&quot;</span><span class="sDhpE"> href=</span><span class="s_Sar">\&quot;</span><span class="sDhpE">/led2on</span><span class="s_Sar">\&quot;</span><span class="sDhpE">&gt;ON&lt;/a&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="128"><span class="s5ixo">  }
</span></span><span class="line" line="129"><span emptylineplaceholder="true">
</span></span><span class="line" line="130"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;/body&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="131"><span class="s5ixo">  ptr </span><span class="sLKXg">+=</span><span class="sDhpE"> &quot;&lt;/html&gt;</span><span class="s_Sar">\n</span><span class="sDhpE">&quot;</span><span class="s5ixo">;
</span></span><span class="line" line="132"><span class="sLKXg">  return</span><span class="s5ixo"> ptr;
</span></span><span class="line" line="133"><span class="s5ixo">}
</span></span></code><!--]-->
    </pre></div><h2 id="доступ-к-веб-серверу-в-режиме-sta"><!--[-->Доступ к веб-серверу в режиме STA<!--]--></h2><p><!--[-->После загрузки эскиза откройте последовательный монитор со скоростью 115200 бод. И нажмите кнопку RESET на ESP32. Если все в порядке, он выведет динамический IP-адрес, полученный от вашего маршрутизатора, и покажет сообщение HTTP-сервер запущен.<!--]--></p><p><!--[-->Затем загрузите браузер и укажите IP-адрес, указанный на последовательном мониторе. ESP32 должен отображать веб-страницу с текущим состоянием светодиодов и двумя кнопками для управления ими. Если одновременно взглянуть на последовательный монитор, вы увидите состояние выводов GPIO ESP32.<!--]--></p><p><!--[-->Теперь нажмите кнопку, чтобы включить LED1, следя за URL. Как только вы нажмете кнопку, ESP32 получит запрос на URL / led1on. Затем он включает светодиод1 и отображает веб-страницу с обновленным статусом светодиодов. Он также печатает состояние вывода GPIO на последовательном мониторе.<!--]--></p><p><!--[-->Вы можете проверить кнопку LED2 и убедиться, что она работает аналогичным образом.<!--]--></p><h2 id="объяснение-кода"><!--[-->Объяснение кода<!--]--></h2><p><!--[-->Если вы наблюдаете этот код с предыдущим кодом, единственное отличие состоит в том, что мы не устанавливаем программную точку доступа, вместо этого мы присоединяемся к существующей сети с помощью функции WiFi.begin ().<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="sW2Sy">//connect to your local wi-fi network
</span></span><span class="line" line="2"><span class="s2QsP">WiFi</span><span class="s5ixo">.</span><span class="sAdtL">begin</span><span class="s5ixo">(ssid, password);
</span></span></code><!--]-->
    </pre></div><p><!--[-->Пока ESP32 пытается подключиться к сети, мы можем проверить состояние подключения с помощью функции WiFi.status ().<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="sW2Sy">//check wi-fi is connected to wi-fi network
</span></span><span class="line" line="2"><span class="sLKXg">while</span><span class="s5ixo"> (</span><span class="s2QsP">WiFi</span><span class="s5ixo">.</span><span class="sAdtL">status</span><span class="s5ixo">() </span><span class="sLKXg">!=</span><span class="s5ixo"> WL_CONNECTED)
</span></span><span class="line" line="3"><span class="s5ixo">{
</span></span><span class="line" line="4"><span class="sAdtL">  delay</span><span class="s5ixo">(</span><span class="sAGMh">1000</span><span class="s5ixo">);
</span></span><span class="line" line="5"><span class="s2QsP">  Serial</span><span class="s5ixo">.</span><span class="sAdtL">print</span><span class="s5ixo">(</span><span class="sDhpE">&quot;.&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="6"><span class="s5ixo">}
</span></span></code><!--]-->
    </pre></div><p><!--[-->Для вашей информации эта функция возвращает следующие статусы:<!--]--></p><ul><!--[--><li><!--[-->WL_CONNECTED: assigned when connected to a Wi-Fi network<!--]--></li><li><!--[-->WL_NO_SHIELD: assigned when no Wi-Fi shield is present<!--]--></li><li><!--[-->WL_IDLE_STATUS: a temporary status assigned when WiFi.begin() is called and remains active until the number of attempts expires (resulting in WL_CONNECT_FAILED) or a connection is established (resulting in WL_CONNECTED)<!--]--></li><li><!--[-->WL_NO_SSID_AVAIL: assigned when no SSID are available<!--]--></li><li><!--[-->WL_SCAN_COMPLETED: assigned when the scan networks is completed<!--]--></li><li><!--[-->WL_CONNECT_FAILED: assigned when the connection fails for all the attempts<!--]--></li><li><!--[-->WL_CONNECTION_LOST: assigned when the connection is lost<!--]--></li><li><!--[-->WL_DISCONNECTED: assigned when disconnected from a network<!--]--></li><li><!--[-->WL_CONNECTED: назначается при подключении к сети Wi-Fi<!--]--></li><li><!--[-->WL_NO_SHIELD: назначается, когда нет экрана Wi-Fi<!--]--></li><li><!--[-->WL_IDLE_STATUS: временное состояние, назначаемое при вызове WiFi.begin (), и остается активным до истечения количества попыток (в результате WL_CONNECT_FAILED) или до установления соединения (в результате WL_CONNECTED)<!--]--></li><li><!--[-->WL_NO_SSID_AVAIL: назначается, когда нет доступных SSID<!--]--></li><li><!--[-->WL_SCAN_COMPLETED: назначается, когда сканирование сетей завершено<!--]--></li><li><!--[-->WL_CONNECT_FAILED: назначается при сбое подключения для всех попыток<!--]--></li><li><!--[-->WL_CONNECTION_LOST: назначается при потере соединения<!--]--></li><li><!--[-->WL_DISCONNECTED: назначается при отключении от сети<!--]--></li><!--]--></ul><p><!--[-->Как только ESP32 подключен к сети, эскиз распечатывает IP-адрес, назначенный для ESP32, отображая значение WiFi.localIP () на последовательном мониторе.<!--]--></p><div class="relative" style=""><!--[--><!--[--><button type="button" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Copy</span><!--]--><!--[--><span class="iconify i-lucide:copy shrink-0 size-4" aria-hidden="true" style=""></span><!--]--><!--]--></button><!--]--><!--]--><pre class="bg-elevated language-cpp shiki shiki-themes one-light one-dark-pro">      <!--[--><code><span class="line" line="1"><span class="s2QsP">Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="2"><span class="s2QsP">Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="sDhpE">&quot;WiFi connected..!&quot;</span><span class="s5ixo">);
</span></span><span class="line" line="3"><span class="s2QsP">Serial</span><span class="s5ixo">.</span><span class="sAdtL">print</span><span class="s5ixo">(</span><span class="sDhpE">&quot;Got IP: &quot;</span><span class="s5ixo">);
</span></span><span class="line" line="4"><span class="s2QsP">Serial</span><span class="s5ixo">.</span><span class="sAdtL">println</span><span class="s5ixo">(</span><span class="s2QsP">WiFi</span><span class="s5ixo">.</span><span class="sAdtL">localIP</span><span class="s5ixo">());
</span></span></code><!--]-->
    </pre></div><p><!--[-->Единственная разница между режимами AP и STA состоит в том, что один создает сеть, а другой присоединяется к существующей сети. Итак, остальная часть кода для обработки HTTP-запросов и обслуживания веб-страницы в режиме STA такая же, как и в режиме AP, описанном выше. Это включает:<!--]--></p><ul><!--[--><li><!--[-->Объявление выводов GPIO ESP32, к которым подключены светодиоды<!--]--></li><li><!--[-->Определение нескольких методов server.on () для обработки входящих HTTP-запросов.<!--]--></li><li><!--[-->Определение метода server.onNotFound () для обработки ошибки HTTP 404<!--]--></li><li><!--[-->Создание пользовательских функций, которые выполняются при нажатии определенного URL<!--]--></li><li><!--[-->Создание HTML-страницы<!--]--></li><li><!--[-->Стилизация веб-страницы<!--]--></li><li><!--[-->Создание кнопок и отображение их статуса<!--]--></li><!--]--></ul><style>html pre.shiki code .sLKXg, html code.shiki .sLKXg{--shiki-default:#A626A4;--shiki-dark:#C678DD}html pre.shiki code .sDhpE, html code.shiki .sDhpE{--shiki-default:#50A14F;--shiki-dark:#98C379}html pre.shiki code .sW2Sy, html code.shiki .sW2Sy{--shiki-default:#A0A1A7;--shiki-default-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic}html pre.shiki code .s5ixo, html code.shiki .s5ixo{--shiki-default:#383A42;--shiki-dark:#ABB2BF}html pre.shiki code .sC09Y, html code.shiki .sC09Y{--shiki-default:#C18401;--shiki-dark:#E5C07B}html pre.shiki code .sAdtL, html code.shiki .sAdtL{--shiki-default:#4078F2;--shiki-dark:#61AFEF}html pre.shiki code .sAGMh, html code.shiki .sAGMh{--shiki-default:#986801;--shiki-dark:#D19A66}html pre.shiki code .s2QsP, html code.shiki .s2QsP{--shiki-default:#E45649;--shiki-dark:#E5C07B}html pre.shiki code .s8iYz, html code.shiki .s8iYz{--shiki-default:#383A42;--shiki-default-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic}html pre.shiki code .s_Sar, html code.shiki .s_Sar{--shiki-default:#0184BC;--shiki-dark:#56B6C2}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}</style></div><footer class="mt-8"><div class="flex flex-wrap gap-2"><!--[--><!--[--><a href="/?tag=Arduino" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 transition-colors cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-primary ring ring-inset ring-primary/25 bg-primary/10 hover:bg-primary/15 active:bg-primary/15 disabled:bg-primary/10 aria-disabled:bg-primary/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">Arduino</span><!--]--><!--[--><!----><!--]--><!--]--></a><!--]--><!--[--><a href="/?tag=ESP32" class="rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75 transition-colors cursor-pointer px-2.5 py-1.5 text-sm gap-1.5 text-primary ring ring-inset ring-primary/25 bg-primary/10 hover:bg-primary/15 active:bg-primary/15 disabled:bg-primary/10 aria-disabled:bg-primary/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary"><!--[--><!--[--><!----><!--]--><!--[--><span class="truncate">ESP32</span><!--]--><!--[--><!----><!--]--><!--]--></a><!--]--><!--]--></div></footer></article></div><!--]--></div></div></div><div id="teleports"></div><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/3-vstanovlennya-platy-esp32-v-arduino-ide-na-mac-os-x-i-linux/_payload.json?9ec65c4b-2e5a-4194-8855-902e9ccb4a5b">[{"state":1,"once":25,"_errors":26,"serverRendered":5,"path":28,"pinia":29,"prerenderedAt":30},["Reactive",2],{"$scolor-mode":3,"$si18n:cached-locale-configs":7,"$si18n:resolved-locale":14,"$ssite-config":15},{"preference":4,"value":4,"unknown":5,"forced":6},"system",true,false,{"uk":8,"ru":10,"en":12},{"fallbacks":9,"cacheable":5},[],{"fallbacks":11,"cacheable":5},[],{"fallbacks":13,"cacheable":5},[],"",{"_priority":16,"currentLocale":21,"defaultLocale":21,"env":22,"name":23,"url":24},{"name":17,"env":18,"url":19,"defaultLocale":20,"currentLocale":20},-10,-15,0,-2,"uk-UA","production","nuxt-app","https://wire.nuxt.space",["Set"],["ShallowReactive",27],{"$Qv2-HRLKSU":-1},"/3-vstanovlennya-platy-esp32-v-arduino-ide-na-mac-os-x-i-linux",{},1757082244493]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{content:{wsUrl:""},mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:false,h3:false,h4:false,h5:false,h6:false}}},"nuxt-scripts":{version:"",defaultScriptOptions:{trigger:"onNuxtReady"}},i18n:{baseUrl:"wire.nuxt.space",defaultLocale:"uk",rootRedirect:"",redirectStatusCode:302,skipSettingLocaleOnNavigate:false,locales:[{name:"Українська",code:"uk",language:"uk-UA",isCatchallLocale:true,_hreflang:"uk-UA",_sitemap:"uk-UA"},{name:"Русский",code:"ru",language:"ru-UA",_hreflang:"ru-UA",_sitemap:"ru-UA"},{name:"English",code:"en",language:"en-UA",_hreflang:"en-UA",_sitemap:"en-UA"}],detectBrowserLanguage:false,experimental:{localeDetector:"",typedPages:true,typedOptionsAndMessages:false,alternateLinkCanonicalQueries:true,devCache:false,cacheLifetime:"",stripMessagesPayload:false,preload:false,strictSeo:false,nitroContextDetection:true},domainLocales:{uk:{domain:""},ru:{domain:""},en:{domain:""}}},preview:{api:"https://api.nuxt.studio",iframeMessagingAllowedOrigins:""}},app:{baseURL:"/",buildId:"9ec65c4b-2e5a-4194-8855-902e9ccb4a5b",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>