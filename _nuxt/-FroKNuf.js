import{u as R,c as Z,a as ee,_ as H,b as te,d as L}from"./BYNKixMt.js";import{B as P,G as u,i,w as d,I as y,A as S,J as N,H as l,K as ae,L as _,M as se,N as le,t as D,a as ne,v as J,C as W,r as A,O as oe,P as O,d as I,f as x,F,Q as j,R as X,y as Y,e as $,n as h,D as re,g as z,E as ie,S as ue}from"#entry";import{u as K}from"./CWUPU9nK.js";import{q as Q,u as de}from"./zQh_Evwp.js";import{I as ce}from"./D3tHURNB.js";import{P as w,t as U,u as fe,r as pe,_ as ve}from"./DPNt6JCM.js";import{_ as ge}from"./DuN1CE0x.js";import"./BBuDv2u3.js";var me=P({__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=t;return R(),(e,r)=>(i(),u(l(w),N(s,{"data-type":"ellipsis"}),{default:d(()=>[y(e.$slots,"default",{},()=>[r[0]||(r[0]=S("â€¦"))])]),_:3},16))}}),ye=me;const[B,be]=Z("PaginationRoot");var _e=P({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(t,{emit:s}){const e=t,r=s,{siblingCount:n,disabled:a,showEdges:o}=ae(e);R();const f=ee(e,"page",r,{defaultValue:e.defaultPage,passive:e.page===void 0}),p=_(()=>Math.max(1,Math.ceil(e.total/(e.itemsPerPage||1))));return be({page:f,onPageChange(c){f.value=c},pageCount:p,siblingCount:n,disabled:a,showEdges:o}),(c,g)=>(i(),u(l(w),{as:c.as,"as-child":c.asChild},{default:d(()=>[y(c.$slots,"default",{page:l(f),pageCount:p.value})]),_:3},8,["as","as-child"]))}}),he=_e,Pe=P({__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t,e=B();R();const r=_(()=>e.page.value===1||e.disabled.value);return(n,a)=>(i(),u(l(w),N(s,{"aria-label":"First Page",type:n.as==="button"?"button":void 0,disabled:r.value,onClick:a[0]||(a[0]=o=>!r.value&&l(e).onPageChange(1))}),{default:d(()=>[y(n.$slots,"default",{},()=>[a[1]||(a[1]=S("First page"))])]),_:3},16,["type","disabled"]))}}),Ce=Pe,xe=P({__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t,e=B();R();const r=_(()=>e.page.value===e.pageCount.value||e.disabled.value);return(n,a)=>(i(),u(l(w),N(s,{"aria-label":"Last Page",type:n.as==="button"?"button":void 0,disabled:r.value,onClick:a[0]||(a[0]=o=>!r.value&&l(e).onPageChange(l(e).pageCount.value))}),{default:d(()=>[y(n.$slots,"default",{},()=>[a[1]||(a[1]=S("Last page"))])]),_:3},16,["type","disabled"]))}}),qe=xe;function k(t,s){const e=s-t+1;return Array.from({length:e},(r,n)=>n+t)}function $e(t){return t.map(s=>typeof s=="number"?{type:"page",value:s}:{type:"ellipsis"})}const V="ellipsis";function Ie(t,s,e,r){const a=s,o=Math.max(t-e,1),f=Math.min(t+e,a);if(r){const c=Math.min(2*e+5,s)-2,g=o>3&&Math.abs(a-c-1+1)>2&&Math.abs(o-1)>2,m=f<a-2&&Math.abs(a-c)>2&&Math.abs(a-f)>2;if(!g&&m)return[...k(1,c),V,a];if(g&&!m){const v=k(a-c+1,a);return[1,V,...v]}if(g&&m){const v=k(o,f);return[1,V,...v,V,a]}return k(1,a)}else{const p=e*2+1;return s<p?k(1,a):t<=e+1?k(1,p):s-t<=e?k(s-p+1,a):k(o,f)}}var we=P({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=t;R();const e=B(),r=_(()=>$e(Ie(e.page.value,e.pageCount.value,e.siblingCount.value,e.showEdges.value)));return(n,a)=>(i(),u(l(w),se(le(s)),{default:d(()=>[y(n.$slots,"default",{items:r.value})]),_:3},16))}}),ke=we,Ne=P({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=B(),r=_(()=>e.page.value===s.value),n=_(()=>e.disabled.value);return(a,o)=>(i(),u(l(w),N(s,{"data-type":"page","aria-label":`Page ${a.value}`,"aria-current":r.value?"page":void 0,"data-selected":r.value?"true":void 0,disabled:n.value,type:a.as==="button"?"button":void 0,onClick:o[0]||(o[0]=f=>!n.value&&l(e).onPageChange(a.value))}),{default:d(()=>[y(a.$slots,"default",{},()=>[S(D(a.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Re=Ne,Le=P({__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=B(),r=_(()=>e.page.value===e.pageCount.value||e.disabled.value);return(n,a)=>(i(),u(l(w),N(s,{"aria-label":"Next Page",type:n.as==="button"?"button":void 0,disabled:r.value,onClick:a[0]||(a[0]=o=>!r.value&&l(e).onPageChange(l(e).page.value+1))}),{default:d(()=>[y(n.$slots,"default",{},()=>[a[1]||(a[1]=S("Next page"))])]),_:3},16,["type","disabled"]))}}),ze=Le,Se=P({__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=B(),r=_(()=>e.page.value===1||e.disabled.value);return(n,a)=>(i(),u(l(w),N(s,{"aria-label":"Previous Page",type:n.as==="button"?"button":void 0,disabled:r.value,onClick:a[0]||(a[0]=o=>!r.value&&l(e).onPageChange(l(e).page.value-1))}),{default:d(()=>[y(n.$slots,"default",{},()=>[a[1]||(a[1]=S("Prev page"))])]),_:3},16,["type","disabled"]))}}),Be=Se;const Ee={class:"flex flex-wrap gap-2 mb-4"},Me=P({__name:"TagCloud",async setup(t){let s,e;const r=ne(),n=J(),{locale:a}=W(),o=A(n.query.tag||"");oe(()=>{o.value=n.query.tag||""});const{data:f}=([s,e]=O(()=>K(()=>Q(`content_${a.value}`).select("tags").where("published","=",!0).all(),"$ieVj5Qgsky")),s=await s,e(),s),p=_(()=>Array.from(new Set(f.value?.flatMap(g=>g.tags??[])))),c=g=>{r.push({query:g?{tag:g}:{}})};return(g,m)=>{const b=H;return i(),I("div",Ee,[x(b,{variant:"subtle",label:g.$t("tags.all"),color:l(o)?"neutral":"primary",ui:{base:"cursor-pointer"},onClick:m[0]||(m[0]=v=>c(""))},null,8,["label","color"]),(i(!0),I(F,null,j(l(p),v=>(i(),u(b,{key:v,variant:"subtle",label:v,color:l(o)!==v?"neutral":"primary",ui:{base:"cursor-pointer"},onClick:T=>c(v)},null,8,["label","color","onClick"]))),128))])}}}),De=Object.assign(Me,{__name:"TagCloud"}),Fe={slots:{root:"rounded-lg overflow-hidden",header:"p-4 sm:px-6",body:"p-4 sm:p-6",footer:"p-4 sm:px-6"},variants:{variant:{solid:{root:"bg-inverted text-inverted"},outline:{root:"bg-default ring ring-default divide-y divide-default"},soft:{root:"bg-elevated/50 divide-y divide-default"},subtle:{root:"bg-elevated/50 ring ring-default divide-y divide-default"}}},defaultVariants:{variant:"outline"}},Ve={__name:"UCard",props:{as:{type:null,required:!1},variant:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(t){const s=t,e=X(),r=Y(),n=_(()=>U({extend:U(Fe),...r.ui?.card||{}})({variant:s.variant}));return(a,o)=>(i(),u(l(w),{as:t.as,class:h(n.value.root({class:[s.ui?.root,s.class]}))},{default:d(()=>[e.header?(i(),I("div",{key:0,class:h(n.value.header({class:s.ui?.header}))},[y(a.$slots,"header")],2)):$("",!0),e.default?(i(),I("div",{key:1,class:h(n.value.body({class:s.ui?.body}))},[y(a.$slots,"default")],2)):$("",!0),e.footer?(i(),I("div",{key:2,class:h(n.value.footer({class:s.ui?.footer}))},[y(a.$slots,"footer")],2)):$("",!0)]),_:3},8,["as","class"]))}},Ae=()=>({placeholders:A({cover:"/images/cover.jpg"})}),Ue=["textContent"],je=["textContent"],Te=["textContent"],Ge={class:"flex flex-wrap gap-2 max-h-fit"},Oe=P({__name:"GridArticle",props:{article:{type:Object,required:!0}},setup(t){const{formatDate:s}=de(),{placeholders:e}=Ae(),r=re();return(n,a)=>{const o=ce,f=H,p=Ve,c=ge;return i(),u(c,{to:l(r)(t.article.path)},{default:d(()=>[x(p,{ui:{root:"hover:shadow-lg transition p-0 divide-none h-full flex flex-col",header:"p-0 sm:px-0",body:"p-4 sm:p-4 space-y-1",footer:"flex items-end flex-1 p-4 sm:p-4 !pt-0"}},{header:d(()=>[t.article.cover?(i(),u(o,{key:0,src:String(t.article.cover)||l(e).cover,class:"!rounded-b-none"},null,8,["src"])):$("",!0)]),footer:d(()=>[z("div",Ge,[(i(!0),I(F,null,j(t.article.tags,g=>(i(),u(f,{key:g,color:"primary",variant:"subtle",label:g},null,8,["label"]))),128))])]),default:d(()=>[z("h2",{class:"text-xl font-semibold",textContent:D(t.article.title)},null,8,Ue),z("p",{class:"text-sm text-gray-500",textContent:D(l(s)(String(t.article.date)))},null,8,je),z("p",{class:"text-gray-600 wrap-break-word",textContent:D(t.article.description)},null,8,Te)]),_:1})]),_:1},8,["to"])}}}),Ke=Object.assign(Oe,{__name:"GridArticle"}),Qe={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},He={__name:"UPagination",props:{as:{type:null,required:!1},firstIcon:{type:String,required:!1},prevIcon:{type:String,required:!1},nextIcon:{type:String,required:!1},lastIcon:{type:String,required:!1},ellipsisIcon:{type:String,required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(t,{emit:s}){const e=t,r=s,n=X(),{dir:a}=fe(),o=Y(),f=te(pe(e,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),r),p=_(()=>e.firstIcon||(a.value==="rtl"?o.ui.icons.chevronDoubleRight:o.ui.icons.chevronDoubleLeft)),c=_(()=>e.prevIcon||(a.value==="rtl"?o.ui.icons.chevronRight:o.ui.icons.chevronLeft)),g=_(()=>e.nextIcon||(a.value==="rtl"?o.ui.icons.chevronLeft:o.ui.icons.chevronRight)),m=_(()=>e.lastIcon||(a.value==="rtl"?o.ui.icons.chevronDoubleLeft:o.ui.icons.chevronDoubleRight)),b=_(()=>U({extend:U(Qe),...o.ui?.pagination||{}})());return(v,T)=>(i(),u(l(he),N(l(f),{class:b.value.root({class:[e.ui?.root,e.class]})}),{default:d(({page:q,pageCount:E})=>[x(l(ke),{class:h(b.value.list({class:e.ui?.list}))},{default:d(({items:M})=>[t.showControls||n.first?(i(),u(l(Ce),{key:0,"as-child":"",class:h(b.value.first({class:e.ui?.first}))},{default:d(()=>[y(v.$slots,"first",{},()=>[x(L,{color:t.color,variant:t.variant,size:t.size,icon:p.value,to:t.to?.(1)},null,8,["color","variant","size","icon","to"])])]),_:3},8,["class"])):$("",!0),t.showControls||n.prev?(i(),u(l(Be),{key:1,"as-child":"",class:h(b.value.prev({class:e.ui?.prev}))},{default:d(()=>[y(v.$slots,"prev",{},()=>[x(L,{color:t.color,variant:t.variant,size:t.size,icon:c.value,to:q>1?t.to?.(q-1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):$("",!0),(i(!0),I(F,null,j(M,(C,G)=>(i(),I(F,null,[C.type==="page"?(i(),u(l(Re),{key:G,"as-child":"",value:C.value,class:h(b.value.item({class:e.ui?.item}))},{default:d(()=>[y(v.$slots,"item",N({ref_for:!0},{item:C,index:G,page:q,pageCount:E}),()=>[x(L,{color:q===C.value?t.activeColor:t.color,variant:q===C.value?t.activeVariant:t.variant,size:t.size,label:String(C.value),ui:{label:b.value.label()},to:t.to?.(C.value),square:""},null,8,["color","variant","size","label","ui","to"])])]),_:2},1032,["value","class"])):(i(),u(l(ye),{key:C.type,index:G,"as-child":"",class:h(b.value.ellipsis({class:e.ui?.ellipsis}))},{default:d(()=>[y(v.$slots,"ellipsis",{},()=>[x(L,{color:t.color,variant:t.variant,size:t.size,icon:t.ellipsisIcon||l(o).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:3},8,["index","class"]))],64))),256)),t.showControls||n.next?(i(),u(l(ze),{key:2,"as-child":"",class:h(b.value.next({class:e.ui?.next}))},{default:d(()=>[y(v.$slots,"next",{},()=>[x(L,{color:t.color,variant:t.variant,size:t.size,icon:g.value,to:q<E?t.to?.(q+1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):$("",!0),t.showControls||n.last?(i(),u(l(qe),{key:3,"as-child":"",class:h(b.value.last({class:e.ui?.last}))},{default:d(()=>[y(v.$slots,"last",{},()=>[x(L,{color:t.color,variant:t.variant,size:t.size,icon:m.value,to:t.to?.(E)},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):$("",!0)]),_:2},1032,["class"])]),_:3},16,["class"]))}},Je=["textContent"],We={class:"grid sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6 mb-6"},nt=P({__name:"index",async setup(t){let s,e;const{t:r,locale:n}=W(),a=J(),o=A(1),f=A(12),p=_(()=>a.query.tag||""),{data:c}=([s,e]=O(()=>K(()=>{const m=Q(`content_${n.value}`).select("path","cover","title","description","date","tags","authors").where("published","=",!0);return p.value&&m.where("tags","LIKE",`%"${p.value}"%`),m.count()},{watch:[p]},"$QD8d9NkvSp")),s=await s,e(),s),{data:g}=([s,e]=O(()=>K(()=>{const m=Q(`content_${n.value}`).select("path","cover","title","description","date","tags","authors").where("published","=",!0);return p.value&&m.where("tags","LIKE",`%"${p.value}"%`),o.value>1&&m.skip(f.value),m.limit(f.value).order("date","DESC").all()},{watch:[p,o]},"$36R8oiM1IC")),s=await s,e(),s);return ie({title:r("index.title"),description:r("index.description")}),(m,b)=>{const v=De,T=Ke,q=He,E=ve;return i(),u(E,{class:"py-6"},{default:d(()=>[z("h1",{class:"text-3xl font-bold mb-8",textContent:D(m.$t("index.title"))},null,8,Je),x(v),z("div",We,[(i(!0),I(F,null,j(l(g),(M,C)=>(i(),u(T,{key:`article-${C}`,article:M},null,8,["article"]))),128))]),l(c)&&l(c)>l(f)?(i(),u(q,{key:0,page:l(o),"onUpdate:page":b[0]||(b[0]=M=>ue(o)?o.value=M:null),total:l(c),"items-per-page":l(f)},null,8,["page","total","items-per-page"])):$("",!0)]),_:1})}}});export{nt as default};
