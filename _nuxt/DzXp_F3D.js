import{u as R,c as Z,a as ee,_ as H,b as te}from"./C0trs8Oe.js";import{B as P,E as d,i,w as u,G as y,A as L,H as N,I as l,J as ae,K as _,L as se,M as le,t as S,a as ne,v as J,C as W,r as A,N as oe,O,d as I,f as x,F,P as j,Q as X,y as Y,e as $,n as h,R as re,g as D,D as ie,S as ue}from"#entry";import{u as K}from"./BVUTVp9K.js";import{q as Q,u as de}from"./DH9DHf0Q.js";import{I as ce}from"./CKIOAqO9.js";import{P as w,t as U,_ as pe}from"./D6vt12El.js";import{_ as fe}from"./0Tl7fSrH.js";import{u as ve,r as ge,_ as z}from"./BrQeTU_V.js";import"./CAYh52jm.js";var me=P({__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=t;return R(),(e,r)=>(i(),d(l(w),N(s,{"data-type":"ellipsis"}),{default:u(()=>[y(e.$slots,"default",{},()=>[r[0]||(r[0]=L("â€¦"))])]),_:3},16))}}),ye=me;const[B,be]=Z("PaginationRoot");var _e=P({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(t,{emit:s}){const e=t,r=s,{siblingCount:n,disabled:a,showEdges:o}=ae(e);R();const p=ee(e,"page",r,{defaultValue:e.defaultPage,passive:e.page===void 0}),f=_(()=>Math.max(1,Math.ceil(e.total/(e.itemsPerPage||1))));return be({page:p,onPageChange(c){p.value=c},pageCount:f,siblingCount:n,disabled:a,showEdges:o}),(c,g)=>(i(),d(l(w),{as:c.as,"as-child":c.asChild},{default:u(()=>[y(c.$slots,"default",{page:l(p),pageCount:f.value})]),_:3},8,["as","as-child"]))}}),he=_e,Pe=P({__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t,e=B();R();const r=_(()=>e.page.value===1||e.disabled.value);return(n,a)=>(i(),d(l(w),N(s,{"aria-label":"First Page",type:n.as==="button"?"button":void 0,disabled:r.value,onClick:a[0]||(a[0]=o=>!r.value&&l(e).onPageChange(1))}),{default:u(()=>[y(n.$slots,"default",{},()=>[a[1]||(a[1]=L("First page"))])]),_:3},16,["type","disabled"]))}}),Ce=Pe,xe=P({__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t,e=B();R();const r=_(()=>e.page.value===e.pageCount.value||e.disabled.value);return(n,a)=>(i(),d(l(w),N(s,{"aria-label":"Last Page",type:n.as==="button"?"button":void 0,disabled:r.value,onClick:a[0]||(a[0]=o=>!r.value&&l(e).onPageChange(l(e).pageCount.value))}),{default:u(()=>[y(n.$slots,"default",{},()=>[a[1]||(a[1]=L("Last page"))])]),_:3},16,["type","disabled"]))}}),qe=xe;function k(t,s){const e=s-t+1;return Array.from({length:e},(r,n)=>n+t)}function $e(t){return t.map(s=>typeof s=="number"?{type:"page",value:s}:{type:"ellipsis"})}const V="ellipsis";function Ie(t,s,e,r){const a=s,o=Math.max(t-e,1),p=Math.min(t+e,a);if(r){const c=Math.min(2*e+5,s)-2,g=o>3&&Math.abs(a-c-1+1)>2&&Math.abs(o-1)>2,m=p<a-2&&Math.abs(a-c)>2&&Math.abs(a-p)>2;if(!g&&m)return[...k(1,c),V,a];if(g&&!m){const v=k(a-c+1,a);return[1,V,...v]}if(g&&m){const v=k(o,p);return[1,V,...v,V,a]}return k(1,a)}else{const f=e*2+1;return s<f?k(1,a):t<=e+1?k(1,f):s-t<=e?k(s-f+1,a):k(o,p)}}var we=P({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=t;R();const e=B(),r=_(()=>$e(Ie(e.page.value,e.pageCount.value,e.siblingCount.value,e.showEdges.value)));return(n,a)=>(i(),d(l(w),se(le(s)),{default:u(()=>[y(n.$slots,"default",{items:r.value})]),_:3},16))}}),ke=we,Ne=P({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=B(),r=_(()=>e.page.value===s.value),n=_(()=>e.disabled.value);return(a,o)=>(i(),d(l(w),N(s,{"data-type":"page","aria-label":`Page ${a.value}`,"aria-current":r.value?"page":void 0,"data-selected":r.value?"true":void 0,disabled:n.value,type:a.as==="button"?"button":void 0,onClick:o[0]||(o[0]=p=>!n.value&&l(e).onPageChange(a.value))}),{default:u(()=>[y(a.$slots,"default",{},()=>[L(S(a.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Re=Ne,Le=P({__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=B(),r=_(()=>e.page.value===e.pageCount.value||e.disabled.value);return(n,a)=>(i(),d(l(w),N(s,{"aria-label":"Next Page",type:n.as==="button"?"button":void 0,disabled:r.value,onClick:a[0]||(a[0]=o=>!r.value&&l(e).onPageChange(l(e).page.value+1))}),{default:u(()=>[y(n.$slots,"default",{},()=>[a[1]||(a[1]=L("Next page"))])]),_:3},16,["type","disabled"]))}}),ze=Le,Se=P({__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=B(),r=_(()=>e.page.value===1||e.disabled.value);return(n,a)=>(i(),d(l(w),N(s,{"aria-label":"Previous Page",type:n.as==="button"?"button":void 0,disabled:r.value,onClick:a[0]||(a[0]=o=>!r.value&&l(e).onPageChange(l(e).page.value-1))}),{default:u(()=>[y(n.$slots,"default",{},()=>[a[1]||(a[1]=L("Prev page"))])]),_:3},16,["type","disabled"]))}}),Be=Se;const Ee={class:"flex flex-wrap gap-2 mb-4"},Me=P({__name:"TagCloud",async setup(t){let s,e;const r=ne(),n=J(),{locale:a}=W(),o=A(n.query.tag||"");oe(()=>{o.value=n.query.tag||""});const{data:p}=([s,e]=O(()=>K(()=>Q(`content_${a.value}`).select("tags").all(),"$ieVj5Qgsky")),s=await s,e(),s),f=_(()=>Array.from(new Set(p.value?.flatMap(g=>g.tags??[])))),c=g=>{r.push({query:g?{tag:g}:{}})};return(g,m)=>{const b=H;return i(),I("div",Ee,[x(b,{variant:"subtle",label:g.$t("tags.all"),color:l(o)?"neutral":"primary",ui:{base:"cursor-pointer"},onClick:m[0]||(m[0]=v=>c(""))},null,8,["label","color"]),(i(!0),I(F,null,j(l(f),v=>(i(),d(b,{key:v,variant:"subtle",label:v,color:l(o)!==v?"neutral":"primary",ui:{base:"cursor-pointer"},onClick:T=>c(v)},null,8,["label","color","onClick"]))),128))])}}}),De=Object.assign(Me,{__name:"TagCloud"}),Fe={slots:{root:"rounded-lg overflow-hidden",header:"p-4 sm:px-6",body:"p-4 sm:p-6",footer:"p-4 sm:px-6"},variants:{variant:{solid:{root:"bg-inverted text-inverted"},outline:{root:"bg-default ring ring-default divide-y divide-default"},soft:{root:"bg-elevated/50 divide-y divide-default"},subtle:{root:"bg-elevated/50 ring ring-default divide-y divide-default"}}},defaultVariants:{variant:"outline"}},Ve={__name:"UCard",props:{as:{type:null,required:!1},variant:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(t){const s=t,e=X(),r=Y(),n=_(()=>U({extend:U(Fe),...r.ui?.card||{}})({variant:s.variant}));return(a,o)=>(i(),d(l(w),{as:t.as,class:h(n.value.root({class:[s.ui?.root,s.class]}))},{default:u(()=>[e.header?(i(),I("div",{key:0,class:h(n.value.header({class:s.ui?.header}))},[y(a.$slots,"header")],2)):$("",!0),e.default?(i(),I("div",{key:1,class:h(n.value.body({class:s.ui?.body}))},[y(a.$slots,"default")],2)):$("",!0),e.footer?(i(),I("div",{key:2,class:h(n.value.footer({class:s.ui?.footer}))},[y(a.$slots,"footer")],2)):$("",!0)]),_:3},8,["as","class"]))}},Ae=()=>({placeholders:A({cover:"/images/cover.jpg"})}),Ue=["textContent"],je=["textContent"],Te=["textContent"],Ge=P({__name:"GridArticle",props:{article:{type:Object,required:!0}},setup(t){const{formatDate:s}=de(),{placeholders:e}=Ae(),r=re();return(n,a)=>{const o=ce,p=H,f=Ve,c=fe;return i(),d(c,{to:l(r)(t.article.path)},{default:u(()=>[x(f,{ui:{root:"hover:shadow-lg transition p-0 divide-none",header:"p-0 sm:px-0",body:"p-4 sm:p-4 space-y-1",footer:"flex flex-wrap gap-2 p-4 sm:p-4 !pt-0"}},{header:u(()=>[t.article.cover?(i(),d(o,{key:0,src:String(t.article.cover)||l(e).cover,class:"!rounded-b-none"},null,8,["src"])):$("",!0)]),footer:u(()=>[(i(!0),I(F,null,j(t.article.tags,g=>(i(),d(p,{key:g,color:"primary",variant:"soft"},{default:u(()=>[L(S(g),1)]),_:2},1024))),128))]),default:u(()=>[D("h2",{class:"text-xl font-semibold",textContent:S(t.article.title)},null,8,Ue),D("p",{class:"text-sm text-gray-500",textContent:S(l(s)(String(t.article.date)))},null,8,je),D("p",{class:"text-gray-600",textContent:S(t.article.description)},null,8,Te)]),_:1})]),_:1},8,["to"])}}}),Oe=Object.assign(Ge,{__name:"GridArticle"}),Ke={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},Qe={__name:"UPagination",props:{as:{type:null,required:!1},firstIcon:{type:String,required:!1},prevIcon:{type:String,required:!1},nextIcon:{type:String,required:!1},lastIcon:{type:String,required:!1},ellipsisIcon:{type:String,required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(t,{emit:s}){const e=t,r=s,n=X(),{dir:a}=ve(),o=Y(),p=te(ge(e,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),r),f=_(()=>e.firstIcon||(a.value==="rtl"?o.ui.icons.chevronDoubleRight:o.ui.icons.chevronDoubleLeft)),c=_(()=>e.prevIcon||(a.value==="rtl"?o.ui.icons.chevronRight:o.ui.icons.chevronLeft)),g=_(()=>e.nextIcon||(a.value==="rtl"?o.ui.icons.chevronLeft:o.ui.icons.chevronRight)),m=_(()=>e.lastIcon||(a.value==="rtl"?o.ui.icons.chevronDoubleLeft:o.ui.icons.chevronDoubleRight)),b=_(()=>U({extend:U(Ke),...o.ui?.pagination||{}})());return(v,T)=>(i(),d(l(he),N(l(p),{class:b.value.root({class:[e.ui?.root,e.class]})}),{default:u(({page:q,pageCount:E})=>[x(l(ke),{class:h(b.value.list({class:e.ui?.list}))},{default:u(({items:M})=>[t.showControls||n.first?(i(),d(l(Ce),{key:0,"as-child":"",class:h(b.value.first({class:e.ui?.first}))},{default:u(()=>[y(v.$slots,"first",{},()=>[x(z,{color:t.color,variant:t.variant,size:t.size,icon:f.value,to:t.to?.(1)},null,8,["color","variant","size","icon","to"])])]),_:3},8,["class"])):$("",!0),t.showControls||n.prev?(i(),d(l(Be),{key:1,"as-child":"",class:h(b.value.prev({class:e.ui?.prev}))},{default:u(()=>[y(v.$slots,"prev",{},()=>[x(z,{color:t.color,variant:t.variant,size:t.size,icon:c.value,to:q>1?t.to?.(q-1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):$("",!0),(i(!0),I(F,null,j(M,(C,G)=>(i(),I(F,null,[C.type==="page"?(i(),d(l(Re),{key:G,"as-child":"",value:C.value,class:h(b.value.item({class:e.ui?.item}))},{default:u(()=>[y(v.$slots,"item",N({ref_for:!0},{item:C,index:G,page:q,pageCount:E}),()=>[x(z,{color:q===C.value?t.activeColor:t.color,variant:q===C.value?t.activeVariant:t.variant,size:t.size,label:String(C.value),ui:{label:b.value.label()},to:t.to?.(C.value),square:""},null,8,["color","variant","size","label","ui","to"])])]),_:2},1032,["value","class"])):(i(),d(l(ye),{key:C.type,index:G,"as-child":"",class:h(b.value.ellipsis({class:e.ui?.ellipsis}))},{default:u(()=>[y(v.$slots,"ellipsis",{},()=>[x(z,{color:t.color,variant:t.variant,size:t.size,icon:t.ellipsisIcon||l(o).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:3},8,["index","class"]))],64))),256)),t.showControls||n.next?(i(),d(l(ze),{key:2,"as-child":"",class:h(b.value.next({class:e.ui?.next}))},{default:u(()=>[y(v.$slots,"next",{},()=>[x(z,{color:t.color,variant:t.variant,size:t.size,icon:g.value,to:q<E?t.to?.(q+1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):$("",!0),t.showControls||n.last?(i(),d(l(qe),{key:3,"as-child":"",class:h(b.value.last({class:e.ui?.last}))},{default:u(()=>[y(v.$slots,"last",{},()=>[x(z,{color:t.color,variant:t.variant,size:t.size,icon:m.value,to:t.to?.(E)},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):$("",!0)]),_:2},1032,["class"])]),_:3},16,["class"]))}},He=["textContent"],Je={class:"grid sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6 mb-6"},nt=P({__name:"index",async setup(t){let s,e;const{t:r,locale:n}=W(),a=J(),o=A(1),p=A(12),f=_(()=>a.query.tag||""),{data:c}=([s,e]=O(()=>K(()=>{const m=Q(`content_${n.value}`).select("path","cover","title","description","date","tags","authors").where("published","=",!0);return f.value&&m.where("tags","LIKE",`%"${f.value}"%`),m.count()},{watch:[f]},"$QD8d9NkvSp")),s=await s,e(),s),{data:g}=([s,e]=O(()=>K(()=>{const m=Q(`content_${n.value}`).select("path","cover","title","description","date","tags","authors").where("published","=",!0);return f.value&&m.where("tags","LIKE",`%"${f.value}"%`),o.value>1&&m.skip(p.value),m.limit(p.value).order("date","DESC").all()},{watch:[f,o]},"$36R8oiM1IC")),s=await s,e(),s);return ie({title:r("index.title"),description:r("index.description")}),(m,b)=>{const v=De,T=Oe,q=Qe,E=pe;return i(),d(E,{class:"py-6"},{default:u(()=>[D("h1",{class:"text-3xl font-bold mb-8",textContent:S(m.$t("index.title"))},null,8,He),x(v),D("div",Je,[(i(!0),I(F,null,j(l(g),(M,C)=>(i(),d(T,{key:`article-${C}`,article:M},null,8,["article"]))),128))]),l(c)&&l(c)>l(p)?(i(),d(q,{key:0,page:l(o),"onUpdate:page":b[0]||(b[0]=M=>ue(o)?o.value=M:null),total:l(c),"items-per-page":l(p)},null,8,["page","total","items-per-page"])):$("",!0)]),_:1})}}});export{nt as default};
