import{_ as H,u as Z,r as ee}from"./xKIkCHqx.js";import{B as P,E as d,i,w as u,G as m,A as L,H as N,I as l,J as te,K as b,L as ae,M as se,t as B,a as le,v as J,C as W,r as A,N as ne,O,d as I,f as x,F,P as j,Q as X,y as Y,e as $,n as h,g as D,D as oe,R as re}from"./DJyJYWnJ.js";import{u as K}from"./Co5X6CnB.js";import{q as Q,u as ie}from"./as3U_SlI.js";import{I as ue}from"./CeG_qudI.js";import{P as w,t as U,_ as de}from"./Di-aVUYe.js";import{_ as ce}from"./DkgAPmPF.js";import{u as R,c as pe,a as fe,b as ve,_ as z}from"./rLhVuTQU.js";import"./Bt6KjrZw.js";var ge=P({__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=t;return R(),(e,r)=>(i(),d(l(w),N(s,{"data-type":"ellipsis"}),{default:u(()=>[m(e.$slots,"default",{},()=>[r[0]||(r[0]=L("â€¦"))])]),_:3},16))}}),me=ge;const[S,ye]=pe("PaginationRoot");var be=P({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(t,{emit:s}){const e=t,r=s,{siblingCount:n,disabled:a,showEdges:o}=te(e);R();const p=fe(e,"page",r,{defaultValue:e.defaultPage,passive:e.page===void 0}),f=b(()=>Math.max(1,Math.ceil(e.total/(e.itemsPerPage||1))));return ye({page:p,onPageChange(c){p.value=c},pageCount:f,siblingCount:n,disabled:a,showEdges:o}),(c,_)=>(i(),d(l(w),{as:c.as,"as-child":c.asChild},{default:u(()=>[m(c.$slots,"default",{page:l(p),pageCount:f.value})]),_:3},8,["as","as-child"]))}}),_e=be,he=P({__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t,e=S();R();const r=b(()=>e.page.value===1||e.disabled.value);return(n,a)=>(i(),d(l(w),N(s,{"aria-label":"First Page",type:n.as==="button"?"button":void 0,disabled:r.value,onClick:a[0]||(a[0]=o=>!r.value&&l(e).onPageChange(1))}),{default:u(()=>[m(n.$slots,"default",{},()=>[a[1]||(a[1]=L("First page"))])]),_:3},16,["type","disabled"]))}}),Pe=he,Ce=P({__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t,e=S();R();const r=b(()=>e.page.value===e.pageCount.value||e.disabled.value);return(n,a)=>(i(),d(l(w),N(s,{"aria-label":"Last Page",type:n.as==="button"?"button":void 0,disabled:r.value,onClick:a[0]||(a[0]=o=>!r.value&&l(e).onPageChange(l(e).pageCount.value))}),{default:u(()=>[m(n.$slots,"default",{},()=>[a[1]||(a[1]=L("Last page"))])]),_:3},16,["type","disabled"]))}}),xe=Ce;function k(t,s){const e=s-t+1;return Array.from({length:e},(r,n)=>n+t)}function qe(t){return t.map(s=>typeof s=="number"?{type:"page",value:s}:{type:"ellipsis"})}const V="ellipsis";function $e(t,s,e,r){const a=s,o=Math.max(t-e,1),p=Math.min(t+e,a);if(r){const c=Math.min(2*e+5,s)-2,_=o>3&&Math.abs(a-c-1+1)>2&&Math.abs(o-1)>2,g=p<a-2&&Math.abs(a-c)>2&&Math.abs(a-p)>2;if(!_&&g)return[...k(1,c),V,a];if(_&&!g){const v=k(a-c+1,a);return[1,V,...v]}if(_&&g){const v=k(o,p);return[1,V,...v,V,a]}return k(1,a)}else{const f=e*2+1;return s<f?k(1,a):t<=e+1?k(1,f):s-t<=e?k(s-f+1,a):k(o,p)}}var Ie=P({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=t;R();const e=S(),r=b(()=>qe($e(e.page.value,e.pageCount.value,e.siblingCount.value,e.showEdges.value)));return(n,a)=>(i(),d(l(w),ae(se(s)),{default:u(()=>[m(n.$slots,"default",{items:r.value})]),_:3},16))}}),we=Ie,ke=P({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=S(),r=b(()=>e.page.value===s.value),n=b(()=>e.disabled.value);return(a,o)=>(i(),d(l(w),N(s,{"data-type":"page","aria-label":`Page ${a.value}`,"aria-current":r.value?"page":void 0,"data-selected":r.value?"true":void 0,disabled:n.value,type:a.as==="button"?"button":void 0,onClick:o[0]||(o[0]=p=>!n.value&&l(e).onPageChange(a.value))}),{default:u(()=>[m(a.$slots,"default",{},()=>[L(B(a.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Ne=ke,Re=P({__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=S(),r=b(()=>e.page.value===e.pageCount.value||e.disabled.value);return(n,a)=>(i(),d(l(w),N(s,{"aria-label":"Next Page",type:n.as==="button"?"button":void 0,disabled:r.value,onClick:a[0]||(a[0]=o=>!r.value&&l(e).onPageChange(l(e).page.value+1))}),{default:u(()=>[m(n.$slots,"default",{},()=>[a[1]||(a[1]=L("Next page"))])]),_:3},16,["type","disabled"]))}}),Le=Re,ze=P({__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;R();const e=S(),r=b(()=>e.page.value===1||e.disabled.value);return(n,a)=>(i(),d(l(w),N(s,{"aria-label":"Previous Page",type:n.as==="button"?"button":void 0,disabled:r.value,onClick:a[0]||(a[0]=o=>!r.value&&l(e).onPageChange(l(e).page.value-1))}),{default:u(()=>[m(n.$slots,"default",{},()=>[a[1]||(a[1]=L("Prev page"))])]),_:3},16,["type","disabled"]))}}),Be=ze;const Se={class:"flex flex-wrap gap-2 mb-4"},Ee=P({__name:"TagCloud",async setup(t){let s,e;const r=le(),n=J(),{locale:a}=W(),o=A(n.query.tag||"");ne(()=>{o.value=n.query.tag||""});const{data:p}=([s,e]=O(()=>K(()=>Q(`content_${a.value}`).select("tags").all(),"$ieVj5Qgsky")),s=await s,e(),s),f=b(()=>Array.from(new Set(p.value?.flatMap(_=>_.tags??[])))),c=_=>{r.push({query:_?{tag:_}:{}})};return(_,g)=>{const y=H;return i(),I("div",Se,[x(y,{variant:"subtle",label:_.$t("tags.all"),color:l(o)?"neutral":"primary",ui:{base:"cursor-pointer"},onClick:g[0]||(g[0]=v=>c(""))},null,8,["label","color"]),(i(!0),I(F,null,j(l(f),v=>(i(),d(y,{key:v,variant:"subtle",label:v,color:l(o)!==v?"neutral":"primary",ui:{base:"cursor-pointer"},onClick:T=>c(v)},null,8,["label","color","onClick"]))),128))])}}}),Me=Object.assign(Ee,{__name:"TagCloud"}),De={slots:{root:"rounded-lg overflow-hidden",header:"p-4 sm:px-6",body:"p-4 sm:p-6",footer:"p-4 sm:px-6"},variants:{variant:{solid:{root:"bg-inverted text-inverted"},outline:{root:"bg-default ring ring-default divide-y divide-default"},soft:{root:"bg-elevated/50 divide-y divide-default"},subtle:{root:"bg-elevated/50 ring ring-default divide-y divide-default"}}},defaultVariants:{variant:"outline"}},Fe={__name:"UCard",props:{as:{type:null,required:!1},variant:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(t){const s=t,e=X(),r=Y(),n=b(()=>U({extend:U(De),...r.ui?.card||{}})({variant:s.variant}));return(a,o)=>(i(),d(l(w),{as:t.as,class:h(n.value.root({class:[s.ui?.root,s.class]}))},{default:u(()=>[e.header?(i(),I("div",{key:0,class:h(n.value.header({class:s.ui?.header}))},[m(a.$slots,"header")],2)):$("",!0),e.default?(i(),I("div",{key:1,class:h(n.value.body({class:s.ui?.body}))},[m(a.$slots,"default")],2)):$("",!0),e.footer?(i(),I("div",{key:2,class:h(n.value.footer({class:s.ui?.footer}))},[m(a.$slots,"footer")],2)):$("",!0)]),_:3},8,["as","class"]))}},Ve=()=>({placeholders:A({cover:"/images/cover.jpg"})}),Ae=["textContent"],Ue=["textContent"],je=["textContent"],Te=P({__name:"GridArticle",props:{article:{type:Object,required:!0}},setup(t){const{formatDate:s}=ie(),{placeholders:e}=Ve();return(r,n)=>{const a=ue,o=H,p=Fe,f=ce;return i(),d(f,{to:t.article.path},{default:u(()=>[x(p,{ui:{root:"hover:shadow-lg transition p-0 divide-none",header:"p-0 sm:px-0",body:"p-4 sm:p-4 space-y-1",footer:"flex flex-wrap gap-2 p-4 sm:p-4 !pt-0"}},{header:u(()=>[t.article.cover?(i(),d(a,{key:0,src:String(t.article.cover)||l(e).cover,class:"!rounded-b-none"},null,8,["src"])):$("",!0)]),footer:u(()=>[(i(!0),I(F,null,j(t.article.tags,c=>(i(),d(o,{key:c,color:"primary",variant:"soft"},{default:u(()=>[L(B(c),1)]),_:2},1024))),128))]),default:u(()=>[D("h2",{class:"text-xl font-semibold",textContent:B(t.article.title)},null,8,Ae),D("p",{class:"text-sm text-gray-500",textContent:B(l(s)(String(t.article.date)))},null,8,Ue),D("p",{class:"text-gray-600",textContent:B(t.article.description)},null,8,je)]),_:1})]),_:1},8,["to"])}}}),Ge=Object.assign(Te,{__name:"GridArticle"}),Oe={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},Ke={__name:"UPagination",props:{as:{type:null,required:!1},firstIcon:{type:String,required:!1},prevIcon:{type:String,required:!1},nextIcon:{type:String,required:!1},lastIcon:{type:String,required:!1},ellipsisIcon:{type:String,required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(t,{emit:s}){const e=t,r=s,n=X(),{dir:a}=Z(),o=Y(),p=ve(ee(e,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),r),f=b(()=>e.firstIcon||(a.value==="rtl"?o.ui.icons.chevronDoubleRight:o.ui.icons.chevronDoubleLeft)),c=b(()=>e.prevIcon||(a.value==="rtl"?o.ui.icons.chevronRight:o.ui.icons.chevronLeft)),_=b(()=>e.nextIcon||(a.value==="rtl"?o.ui.icons.chevronLeft:o.ui.icons.chevronRight)),g=b(()=>e.lastIcon||(a.value==="rtl"?o.ui.icons.chevronDoubleLeft:o.ui.icons.chevronDoubleRight)),y=b(()=>U({extend:U(Oe),...o.ui?.pagination||{}})());return(v,T)=>(i(),d(l(_e),N(l(p),{class:y.value.root({class:[e.ui?.root,e.class]})}),{default:u(({page:q,pageCount:E})=>[x(l(we),{class:h(y.value.list({class:e.ui?.list}))},{default:u(({items:M})=>[t.showControls||n.first?(i(),d(l(Pe),{key:0,"as-child":"",class:h(y.value.first({class:e.ui?.first}))},{default:u(()=>[m(v.$slots,"first",{},()=>[x(z,{color:t.color,variant:t.variant,size:t.size,icon:f.value,to:t.to?.(1)},null,8,["color","variant","size","icon","to"])])]),_:3},8,["class"])):$("",!0),t.showControls||n.prev?(i(),d(l(Be),{key:1,"as-child":"",class:h(y.value.prev({class:e.ui?.prev}))},{default:u(()=>[m(v.$slots,"prev",{},()=>[x(z,{color:t.color,variant:t.variant,size:t.size,icon:c.value,to:q>1?t.to?.(q-1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):$("",!0),(i(!0),I(F,null,j(M,(C,G)=>(i(),I(F,null,[C.type==="page"?(i(),d(l(Ne),{key:G,"as-child":"",value:C.value,class:h(y.value.item({class:e.ui?.item}))},{default:u(()=>[m(v.$slots,"item",N({ref_for:!0},{item:C,index:G,page:q,pageCount:E}),()=>[x(z,{color:q===C.value?t.activeColor:t.color,variant:q===C.value?t.activeVariant:t.variant,size:t.size,label:String(C.value),ui:{label:y.value.label()},to:t.to?.(C.value),square:""},null,8,["color","variant","size","label","ui","to"])])]),_:2},1032,["value","class"])):(i(),d(l(me),{key:C.type,index:G,"as-child":"",class:h(y.value.ellipsis({class:e.ui?.ellipsis}))},{default:u(()=>[m(v.$slots,"ellipsis",{},()=>[x(z,{color:t.color,variant:t.variant,size:t.size,icon:t.ellipsisIcon||l(o).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:3},8,["index","class"]))],64))),256)),t.showControls||n.next?(i(),d(l(Le),{key:2,"as-child":"",class:h(y.value.next({class:e.ui?.next}))},{default:u(()=>[m(v.$slots,"next",{},()=>[x(z,{color:t.color,variant:t.variant,size:t.size,icon:_.value,to:q<E?t.to?.(q+1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):$("",!0),t.showControls||n.last?(i(),d(l(xe),{key:3,"as-child":"",class:h(y.value.last({class:e.ui?.last}))},{default:u(()=>[m(v.$slots,"last",{},()=>[x(z,{color:t.color,variant:t.variant,size:t.size,icon:g.value,to:t.to?.(E)},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):$("",!0)]),_:2},1032,["class"])]),_:3},16,["class"]))}},Qe=["textContent"],He={class:"grid sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6 mb-6"},lt=P({__name:"index",async setup(t){let s,e;const{t:r,locale:n}=W(),a=J(),o=A(1),p=A(12),f=b(()=>a.query.tag||""),{data:c}=([s,e]=O(()=>K(()=>{const g=Q(`content_${n.value}`).select("path","cover","title","description","date","tags","authors").where("published","=",!0);return f.value&&g.where("tags","LIKE",`%"${f.value}"%`),g.count()},{watch:[f]},"$QD8d9NkvSp")),s=await s,e(),s),{data:_}=([s,e]=O(()=>K(()=>{const g=Q(`content_${n.value}`).select("path","cover","title","description","date","tags","authors").where("published","=",!0);return f.value&&g.where("tags","LIKE",`%"${f.value}"%`),o.value>1&&g.skip(p.value),g.limit(p.value).order("date","DESC").all()},{watch:[f,o]},"$36R8oiM1IC")),s=await s,e(),s);return oe({title:r("index.title"),description:r("index.description")}),(g,y)=>{const v=Me,T=Ge,q=Ke,E=de;return i(),d(E,{class:"py-6"},{default:u(()=>[D("h1",{class:"text-3xl font-bold mb-8",textContent:B(g.$t("index.title"))},null,8,Qe),x(v),D("div",He,[(i(!0),I(F,null,j(l(_),(M,C)=>(i(),d(T,{key:`article-${C}`,article:M},null,8,["article"]))),128))]),l(c)&&l(c)>l(p)?(i(),d(q,{key:0,page:l(o),"onUpdate:page":y[0]||(y[0]=M=>re(o)?o.value=M:null),total:l(c),"items-per-page":l(p)},null,8,["page","total","items-per-page"])):$("",!0)]),_:1})}}});export{lt as default};
