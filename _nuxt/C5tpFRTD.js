import{u as I,c as X,a as Y,q as G,_ as H,b as Z,d as N}from"./B1eDYjaQ.js";import{B as h,G as u,i,w as c,I as b,A as S,J as $,H as l,K as ee,L as _,M as te,N as ae,t as D,a as se,v as J,C as W,r as V,O as le,P as O,d as z,f as C,F,Q as U,D as ne,g as R,e as L,R as oe,y as re,n as k,E as ie,S as ue}from"#entry";import{u as K}from"./wXO7Cdp3.js";import{I as de}from"./Bd30HUIj.js";import{_ as ce}from"./BaJQr_rF.js";import{_ as pe}from"./BDHdRLzf.js";import{u as fe}from"./wdqu2YkN.js";import{P as w,u as ve,r as ge,t as Q,_ as me}from"./Dit_6cf1.js";import"./B24A4dzH.js";var ye=h({__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=t;return I(),(e,o)=>(i(),u(l(w),$(s,{"data-type":"ellipsis"}),{default:c(()=>[b(e.$slots,"default",{},()=>[o[0]||(o[0]=S("â€¦"))])]),_:3},16))}}),_e=ye;const[B,be]=X("PaginationRoot");var he=h({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(t,{emit:s}){const e=t,o=s,{siblingCount:r,disabled:a,showEdges:n}=ee(e);I();const p=Y(e,"page",o,{defaultValue:e.defaultPage,passive:e.page===void 0}),f=_(()=>Math.max(1,Math.ceil(e.total/(e.itemsPerPage||1))));return be({page:p,onPageChange(d){p.value=d},pageCount:f,siblingCount:r,disabled:a,showEdges:n}),(d,g)=>(i(),u(l(w),{as:d.as,"as-child":d.asChild},{default:c(()=>[b(d.$slots,"default",{page:l(p),pageCount:f.value})]),_:3},8,["as","as-child"]))}}),Pe=he,Ce=h({__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t,e=B();I();const o=_(()=>e.page.value===1||e.disabled.value);return(r,a)=>(i(),u(l(w),$(s,{"aria-label":"First Page",type:r.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=n=>!o.value&&l(e).onPageChange(1))}),{default:c(()=>[b(r.$slots,"default",{},()=>[a[1]||(a[1]=S("First page"))])]),_:3},16,["type","disabled"]))}}),xe=Ce,qe=h({__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t,e=B();I();const o=_(()=>e.page.value===e.pageCount.value||e.disabled.value);return(r,a)=>(i(),u(l(w),$(s,{"aria-label":"Last Page",type:r.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=n=>!o.value&&l(e).onPageChange(l(e).pageCount.value))}),{default:c(()=>[b(r.$slots,"default",{},()=>[a[1]||(a[1]=S("Last page"))])]),_:3},16,["type","disabled"]))}}),$e=qe;function q(t,s){const e=s-t+1;return Array.from({length:e},(o,r)=>r+t)}function Ie(t){return t.map(s=>typeof s=="number"?{type:"page",value:s}:{type:"ellipsis"})}const A="ellipsis";function we(t,s,e,o){const a=s,n=Math.max(t-e,1),p=Math.min(t+e,a);if(o){const d=Math.min(2*e+5,s)-2,g=n>3&&Math.abs(a-d-1+1)>2&&Math.abs(n-1)>2,m=p<a-2&&Math.abs(a-d)>2&&Math.abs(a-p)>2;if(!g&&m)return[...q(1,d),A,a];if(g&&!m){const v=q(a-d+1,a);return[1,A,...v]}if(g&&m){const v=q(n,p);return[1,A,...v,A,a]}return q(1,a)}else{const f=e*2+1;return s<f?q(1,a):t<=e+1?q(1,f):s-t<=e?q(s-f+1,a):q(n,p)}}var ke=h({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=t;I();const e=B(),o=_(()=>Ie(we(e.page.value,e.pageCount.value,e.siblingCount.value,e.showEdges.value)));return(r,a)=>(i(),u(l(w),te(ae(s)),{default:c(()=>[b(r.$slots,"default",{items:o.value})]),_:3},16))}}),Ne=ke,Re=h({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;I();const e=B(),o=_(()=>e.page.value===s.value),r=_(()=>e.disabled.value);return(a,n)=>(i(),u(l(w),$(s,{"data-type":"page","aria-label":`Page ${a.value}`,"aria-current":o.value?"page":void 0,"data-selected":o.value?"true":void 0,disabled:r.value,type:a.as==="button"?"button":void 0,onClick:n[0]||(n[0]=p=>!r.value&&l(e).onPageChange(a.value))}),{default:c(()=>[b(a.$slots,"default",{},()=>[S(D(a.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Le=Re,ze=h({__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;I();const e=B(),o=_(()=>e.page.value===e.pageCount.value||e.disabled.value);return(r,a)=>(i(),u(l(w),$(s,{"aria-label":"Next Page",type:r.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=n=>!o.value&&l(e).onPageChange(l(e).page.value+1))}),{default:c(()=>[b(r.$slots,"default",{},()=>[a[1]||(a[1]=S("Next page"))])]),_:3},16,["type","disabled"]))}}),Se=ze,Be=h({__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;I();const e=B(),o=_(()=>e.page.value===1||e.disabled.value);return(r,a)=>(i(),u(l(w),$(s,{"aria-label":"Previous Page",type:r.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=n=>!o.value&&l(e).onPageChange(l(e).page.value-1))}),{default:c(()=>[b(r.$slots,"default",{},()=>[a[1]||(a[1]=S("Prev page"))])]),_:3},16,["type","disabled"]))}}),Ee=Be;const Me={class:"flex flex-wrap gap-2 mb-4"},De=h({__name:"TagCloud",async setup(t){let s,e;const o=se(),r=J(),{locale:a}=W(),n=V(r.query.tag||"");le(()=>{n.value=r.query.tag||""});const{data:p}=([s,e]=O(()=>K(()=>G(`content_${a.value}`).select("tags").where("published","=",!0).all(),"$ieVj5Qgsky")),s=await s,e(),s),f=_(()=>Array.from(new Set(p.value?.flatMap(g=>g.tags??[])))),d=g=>{o.push({query:g?{tag:g}:{}})};return(g,m)=>{const y=H;return i(),z("div",Me,[C(y,{variant:"subtle",label:g.$t("tags.all"),color:l(n)?"neutral":"primary",ui:{base:"cursor-pointer"},onClick:m[0]||(m[0]=v=>d(""))},null,8,["label","color"]),(i(!0),z(F,null,U(l(f),v=>(i(),u(y,{key:v,variant:"subtle",label:v,color:l(n)!==v?"neutral":"primary",ui:{base:"cursor-pointer"},onClick:j=>d(v)},null,8,["label","color","onClick"]))),128))])}}}),Fe=Object.assign(De,{__name:"TagCloud"}),Ae=()=>({placeholders:V({cover:"/images/cover.jpg"})}),Ve=["textContent"],Ue=["textContent"],je=["textContent"],Te={class:"flex flex-wrap gap-2 max-h-fit"},Ge=h({__name:"GridArticle",props:{article:{type:Object,required:!0}},setup(t){const{formatDate:s}=fe(),{placeholders:e}=Ae(),o=ne();return(r,a)=>{const n=de,p=H,f=ce,d=pe;return i(),u(d,{to:l(o)(t.article.path)},{default:c(()=>[C(f,{ui:{root:"hover:shadow-lg transition p-0 divide-none h-full flex flex-col",header:"p-4 sm:px-4 !pb-0",body:"p-4 sm:p-4 space-y-1",footer:"flex items-end flex-1 p-4 sm:p-4 !pt-0"}},{header:c(()=>[t.article.cover?(i(),u(n,{key:0,src:String(t.article.cover)||l(e).cover,class:"!rounded-b-none"},null,8,["src"])):L("",!0)]),footer:c(()=>[R("div",Te,[(i(!0),z(F,null,U(t.article.tags,g=>(i(),u(p,{key:g,color:"primary",variant:"subtle",label:g},null,8,["label"]))),128))])]),default:c(()=>[R("h2",{class:"text-xl font-semibold",textContent:D(t.article.title)},null,8,Ve),R("p",{class:"text-sm text-gray-500",textContent:D(l(s)(String(t.article.date)))},null,8,Ue),R("p",{class:"text-gray-600 wrap-break-word",textContent:D(t.article.description)},null,8,je)]),_:1})]),_:1},8,["to"])}}}),Oe=Object.assign(Ge,{__name:"GridArticle"}),Ke={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},Qe={__name:"UPagination",props:{as:{type:null,required:!1},firstIcon:{type:String,required:!1},prevIcon:{type:String,required:!1},nextIcon:{type:String,required:!1},lastIcon:{type:String,required:!1},ellipsisIcon:{type:String,required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(t,{emit:s}){const e=t,o=s,r=oe(),{dir:a}=ve(),n=re(),p=Z(ge(e,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),o),f=_(()=>e.firstIcon||(a.value==="rtl"?n.ui.icons.chevronDoubleRight:n.ui.icons.chevronDoubleLeft)),d=_(()=>e.prevIcon||(a.value==="rtl"?n.ui.icons.chevronRight:n.ui.icons.chevronLeft)),g=_(()=>e.nextIcon||(a.value==="rtl"?n.ui.icons.chevronLeft:n.ui.icons.chevronRight)),m=_(()=>e.lastIcon||(a.value==="rtl"?n.ui.icons.chevronDoubleLeft:n.ui.icons.chevronDoubleRight)),y=_(()=>Q({extend:Q(Ke),...n.ui?.pagination||{}})());return(v,j)=>(i(),u(l(Pe),$(l(p),{class:y.value.root({class:[e.ui?.root,e.class]})}),{default:c(({page:x,pageCount:E})=>[C(l(Ne),{class:k(y.value.list({class:e.ui?.list}))},{default:c(({items:M})=>[t.showControls||r.first?(i(),u(l(xe),{key:0,"as-child":"",class:k(y.value.first({class:e.ui?.first}))},{default:c(()=>[b(v.$slots,"first",{},()=>[C(N,{color:t.color,variant:t.variant,size:t.size,icon:f.value,to:t.to?.(1)},null,8,["color","variant","size","icon","to"])])]),_:3},8,["class"])):L("",!0),t.showControls||r.prev?(i(),u(l(Ee),{key:1,"as-child":"",class:k(y.value.prev({class:e.ui?.prev}))},{default:c(()=>[b(v.$slots,"prev",{},()=>[C(N,{color:t.color,variant:t.variant,size:t.size,icon:d.value,to:x>1?t.to?.(x-1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):L("",!0),(i(!0),z(F,null,U(M,(P,T)=>(i(),z(F,null,[P.type==="page"?(i(),u(l(Le),{key:T,"as-child":"",value:P.value,class:k(y.value.item({class:e.ui?.item}))},{default:c(()=>[b(v.$slots,"item",$({ref_for:!0},{item:P,index:T,page:x,pageCount:E}),()=>[C(N,{color:x===P.value?t.activeColor:t.color,variant:x===P.value?t.activeVariant:t.variant,size:t.size,label:String(P.value),ui:{label:y.value.label()},to:t.to?.(P.value),square:""},null,8,["color","variant","size","label","ui","to"])])]),_:2},1032,["value","class"])):(i(),u(l(_e),{key:P.type,index:T,"as-child":"",class:k(y.value.ellipsis({class:e.ui?.ellipsis}))},{default:c(()=>[b(v.$slots,"ellipsis",{},()=>[C(N,{color:t.color,variant:t.variant,size:t.size,icon:t.ellipsisIcon||l(n).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:3},8,["index","class"]))],64))),256)),t.showControls||r.next?(i(),u(l(Se),{key:2,"as-child":"",class:k(y.value.next({class:e.ui?.next}))},{default:c(()=>[b(v.$slots,"next",{},()=>[C(N,{color:t.color,variant:t.variant,size:t.size,icon:g.value,to:x<E?t.to?.(x+1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):L("",!0),t.showControls||r.last?(i(),u(l($e),{key:3,"as-child":"",class:k(y.value.last({class:e.ui?.last}))},{default:c(()=>[b(v.$slots,"last",{},()=>[C(N,{color:t.color,variant:t.variant,size:t.size,icon:m.value,to:t.to?.(E)},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):L("",!0)]),_:2},1032,["class"])]),_:3},16,["class"]))}},He=["textContent"],Je={class:"grid sm:grid-cols-2 md:grid-cols-3 gap-6 mb-6"},nt=h({__name:"index",async setup(t){let s,e;const{t:o,locale:r}=W(),a=J(),n=V(1),p=V(12),f=_(()=>a.query.tag||""),{data:d}=([s,e]=O(()=>K(()=>{const m=G(`content_${r.value}`).select("path","cover","title","description","date","tags","authors").where("published","=",!0);return f.value&&m.where("tags","LIKE",`%"${f.value}"%`),m.count()},{watch:[f]},"$QD8d9NkvSp")),s=await s,e(),s),{data:g}=([s,e]=O(()=>K(()=>{const m=G(`content_${r.value}`).select("path","cover","title","description","date","tags","authors").where("published","=",!0);return f.value&&m.where("tags","LIKE",`%"${f.value}"%`),n.value>1&&m.skip(p.value),m.limit(p.value).order("date","DESC").all()},{watch:[f,n]},"$36R8oiM1IC")),s=await s,e(),s);return ie({title:o("index.title"),description:o("index.description")}),(m,y)=>{const v=Fe,j=Oe,x=Qe,E=me;return i(),u(E,{class:"py-6"},{default:c(()=>[R("h1",{class:"text-3xl font-bold mb-8",textContent:D(m.$t("index.title"))},null,8,He),C(v),R("div",Je,[(i(!0),z(F,null,U(l(g),(M,P)=>(i(),u(j,{key:`article-${P}`,article:M},null,8,["article"]))),128))]),l(d)&&l(d)>l(p)?(i(),u(x,{key:0,page:l(n),"onUpdate:page":y[0]||(y[0]=M=>ue(n)?n.value=M:null),total:l(d),"items-per-page":l(p)},null,8,["page","total","items-per-page"])):L("",!0)]),_:1})}}});export{nt as default};
